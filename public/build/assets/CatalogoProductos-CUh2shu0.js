import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as l,R as ee}from"./index-RYns6xqu.js";import{G as te,C as se}from"./CreateReactScript-BuKYEKxn.js";import{c as re}from"./ReactAppend-vpV7VTGG.js";import{B as oe}from"./Base-B0jCVaQs.js";import{H as le}from"./Header-BTDOYT6V.js";import{F as ne}from"./Footer-fkh0KnF5.js";import{C as ae}from"./Detail-BUTDw3GY.js";import{L as ie,G as de,M as ce}from"./esm-DE6x54Dx.js";import{P as me}from"./PropertyCard-MAp-p4n2.js";import{S as he}from"./ServiceSeccionFaq-Baq_h0BS.js";import"./index.esm-zkRd-kwu.js";import"./axios-B4uVmeYG.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./main-Y8JAyXgE.js";/* empty css               *//* empty css              */import"./index-CXU7o9CY.js";import"./Filter-CpekYgBC.js";import"./Results-BBVbNL2k.js";import"./useTranslation-CZbMeh78.js";import"./createLucideIcon-D_WcjKff.js";import"./proxy-Dg7W2VMC.js";import"./index-SDlHnhXR.js";import"./index-DNUR7M9R.js";import"./HtmlContent-CZmf3wHb.js";import"./sweetalert2.all-DJo0UVK6.js";import"./HomeSeccionBlog-B1gXNdAR.js";import"./navigation-B2UEjSS3.js";import"./classes-to-selector-DtC0LQ2m.js";import"./pagination-iC1L0vLA.js";import"./Strengths-CX6bGGPm.js";import"./CarruselBrands-Dk-UaKph.js";import"./TextWithHighlight-DJ4ZjNW2.js";const J=({propiedades:n=[],center:m=null,isMobileView:S=!1,showMapOnly:g=!1})=>{var A;const[R,$]=l.useState(null),[h,y]=l.useState(null),[i,N]=l.useState(1),a=9,v=Math.ceil(n.length/a),C=(i-1)*a,k=C+a,j=n.slice(C,k);l.useEffect(()=>{N(1),y(null)},[n.length]),l.useEffect(()=>{const o=document.querySelector(".property-list-container");o&&o.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})},[i]),l.useEffect(()=>{h&&j.length>0&&(j.some(f=>f.id===h)||y(null))},[i,h]);const M=m&&m.lat&&m.lng?{lat:m.lat,lng:m.lng}:n.length>0&&n[0].latitude&&n[0].longitude?{lat:parseFloat(n[0].latitude),lng:parseFloat(n[0].longitude)}:{lat:-12.0464,lng:-77.0428},[E,B]=l.useState({}),V=(o,f)=>{B(c=>({...c,[o]:f}))};return g?e.jsx(ie,{googleMapsApiKey:((A=te)==null?void 0:A.GMAPS_API_KEY)||"",children:e.jsx(de,{mapContainerStyle:{width:"100%",height:"100%"},center:M,zoom:12,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!1,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:n.map(o=>{if(!o.latitude||!o.longitude)return null;const f=Math.floor(o.price_per_night||120),c=R===o.id,L=h===o.id,b={url:L?"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                  <svg width="85" height="45" viewBox="0 0 85 45" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="81" height="41" rx="20" fill="#195AEA" stroke="white" stroke-width="3"/>
                    <text x="42.5" y="28" text-anchor="middle" fill="white" font-size="15" font-weight="bold">S/${f}</text>
                  </svg>
                `):c?"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                  <svg width="80" height="40" viewBox="0 0 80 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="2" y="2" width="76" height="36" rx="18" fill="#1f2937" stroke="white" stroke-width="2"/>
                    <text x="40" y="26" text-anchor="middle" fill="white" font-size="14" font-weight="bold">S/${f}</text>
                  </svg>
                `):"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                  <svg width="70" height="32" viewBox="0 0 70 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="1" y="1" width="68" height="30" rx="15" fill="white" stroke="#d1d5db" stroke-width="1"/>
                    <text x="35" y="21" text-anchor="middle" fill="#374151" font-size="12" font-weight="600">S/${f}</text>
                  </svg>
                `)};return window.google&&window.google.maps&&window.google.maps.Size&&(b.scaledSize=L?new window.google.maps.Size(85,45):c?new window.google.maps.Size(80,40):new window.google.maps.Size(70,32),b.anchor=L?new window.google.maps.Point(42.5,22.5):c?new window.google.maps.Point(40,20):new window.google.maps.Point(35,16)),e.jsx(ce,{position:{lat:parseFloat(o.latitude),lng:parseFloat(o.longitude)},title:o.title||o.address,icon:b,onClick:()=>{y(o.id),S&&window.setShowMap&&window.setShowMap(!1);const W=n.findIndex(s=>s.id===o.id),H=Math.ceil((W+1)/a);H!==i&&N(H)},onMouseOver:()=>$(o.id),onMouseOut:()=>$(null)},o.id)})})}):e.jsxs(e.Fragment,{children:[h&&e.jsx("div",{className:"p-3 md:p-4 bg-primary/10 border-l-4 border-primary mx-2 md:mx-4 mt-2 md:mt-4 rounded-r-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 md:w-5 md:h-5 text-primary mr-1 md:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-xs md:text-sm text-primary font-medium",children:"Propiedad seleccionada en el mapa"})]}),e.jsx("button",{onClick:()=>y(null),className:"text-primary hover:text-primary/80 text-xs md:text-sm font-medium",children:"Limpiar"})]})}),e.jsx("div",{className:"flex-1 px-[5%] md:px-4",children:e.jsx("div",{className:`py-4 md:py-10 grid ${S?"grid-cols-1 sm:grid-cols-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"} gap-4 md:gap-6`,children:j&&j.length>0?j.map(o=>e.jsxs("div",{className:"relative cursor-pointer","data-property-id":o.id,onClick:()=>{y(h===o.id?null:o.id)},children:[h===o.id&&e.jsx("div",{className:"absolute top-2 left-2 z-20 bg-primary text-white w-5 h-5 md:w-6 md:h-6 rounded-full flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsx(me,{propiedad:o,currentIndex:E[o.id]||0,onIndexChange:V})]},o.id)):e.jsx("div",{className:`${S?"col-span-1 sm:col-span-2":"col-span-1 sm:col-span-2 lg:col-span-3"} text-center py-8`,children:e.jsx("p",{className:"text-gray-500",children:"No hay propiedades disponibles en este momento."})})})}),n&&n.length>a&&e.jsx("div",{className:"p-3 md:p-6 bg-gradient-to-r from-gray-50 to-white border-t border-gray-200 flex-shrink-0 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs md:text-sm text-gray-600 font-medium",children:[e.jsx("span",{className:"hidden xs:inline",children:"Mostrando "}),e.jsxs("span",{className:"font-bold text-primary",children:[C+1,"-",Math.min(k,n.length)]}),e.jsx("span",{className:"hidden xs:inline",children:" de "}),e.jsx("span",{className:"xs:hidden",children:" / "}),e.jsx("span",{className:"font-bold",children:n.length}),e.jsx("span",{className:"hidden xs:inline",children:" propiedades"})]}),e.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2",children:[e.jsxs("button",{onClick:()=>{const o=Math.max(1,i-1);N(o)},disabled:i===1,className:`flex items-center px-2 md:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 ${i===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-primary hover:text-white border border-gray-300 hover:border-primary shadow-sm hover:shadow-md"}`,children:[e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4 mr-0 md:mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),!S&&e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(5,v))].map((o,f)=>{let c;if(v<=5)c=f+1;else{const L=Math.max(1,i-2),b=Math.min(v,L+4);if(c=L+f,c>b)return null}return e.jsx("button",{onClick:()=>N(c),className:`w-8 h-8 md:w-10 md:h-10 rounded-lg text-xs md:text-sm font-bold transition-all duration-200 ${i===c?"bg-primary text-white shadow-lg scale-110":"bg-white text-gray-700 hover:bg-primary hover:text-white border border-gray-300 hover:border-primary shadow-sm hover:shadow-md hover:scale-105"}`,children:c},c)})}),S&&e.jsxs("div",{className:"px-2 py-1 bg-white border border-gray-300 rounded-lg text-xs font-medium",children:[i," / ",v]}),e.jsxs("button",{onClick:()=>{const o=Math.min(v,i+1);N(o)},disabled:i===v,className:`flex items-center px-2 md:px-4 py-1 md:py-2 rounded-lg text-xs md:text-sm font-medium transition-all duration-200 ${i===v?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-primary hover:text-white border border-gray-300 hover:border-primary shadow-sm hover:shadow-md"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4 ml-0 md:ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]})},xe=({isOpen:n,onClose:m,onApplyFilters:S,currentFilters:g={}})=>{const[R,$]=l.useState(g.instantBook?"reservacion":"estacionamiento"),[h,y]=l.useState(g.propertyType||"cualquier"),[i,N]=l.useState(g.services||["wifi","aire","televisor","cocina"]),[a,v]=l.useState(g.amenities||["lavadora","coworking"]),[C,k]=l.useState(g.characteristics||["piscina","estacionamiento"]),[j,M]=l.useState(g.featured?"favoritos":"luxe");if(ee.useEffect(()=>{g&&($(g.instantBook?"reservacion":"estacionamiento"),y(g.propertyType||"cualquier"),N(g.services||["wifi","aire","televisor","cocina"]),v(g.amenities||["lavadora","coworking"]),k(g.characteristics||["piscina","estacionamiento"]),M(g.featured?"favoritos":"luxe"))},[g]),!n)return null;const E=[{id:"reservacion",label:"Reservación inmediata",icon:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),selected:!0},{id:"estacionamiento",label:"Estacionamiento gratuito",icon:e.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("path",{d:"M8 7h4a3 3 0 0 1 0 6h-4V7z"}),e.jsx("path",{d:"M8 13h3"})]}),selected:!1},{id:"lavadora",label:"Lavadora y secadora",icon:e.jsxs("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M8 3v3M16 3v3M8 18v3M16 18v3"})]}),selected:!1},{id:"llegada",label:"Llegada autónoma",icon:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})}),selected:!1}],B=[{id:"cualquier",label:"Cualquier tipo"},{id:"habitacion",label:"Habitación"},{id:"alojamiento",label:"Alojamiento entero"}],V=[{id:"wifi",label:"Wifi",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),selected:!0},{id:"aire",label:"Aire acondicionado",icon:e.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),selected:!0},{id:"televisor",label:"Televisor",icon:e.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e.jsx("line",{x1:"12",y1:"17",x2:"12",y2:"21"})]}),selected:!0},{id:"cocina",label:"Cocina",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),selected:!0},{id:"secadora",label:"Secadora",icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),selected:!1},{id:"gimnasio",label:"Gimnasio",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12"})}),selected:!0}],A=[{id:"lavadora",label:"Lavadora",icon:e.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"}),e.jsx("path",{d:"M8 3v3M16 3v3M8 18v3M16 18v3"})]}),selected:!0},{id:"calefaccion",label:"Calefacción",icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),selected:!1},{id:"coworking",label:"Coworking",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m8 0H8m8 0v6a2 2 0 01-2 2H10a2 2 0 01-2-2V6m8 0H8"})}),selected:!0},{id:"secadora",label:"Secadora de...",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),selected:!0},{id:"plancha",label:"Plancha",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),selected:!0}],o=[{id:"piscina",label:"Piscina",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),selected:!0},{id:"jacuzzi",label:"Jacuzzi",icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18A2 2 0 0 1 23 12v6a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-6a2 2 0 0 1 2-2z"})}),selected:!1},{id:"estacionamiento",label:"Estacionamiento...",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M13 10V3L4 14h7v7l9-11h-7z"})}),selected:!0},{id:"cargador",label:"Cargador de e...",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),selected:!0},{id:"cuna",label:"Cuna para be...",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7z"})}),selected:!0},{id:"cama",label:"Cama King",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),selected:!0},{id:"parrilla",label:"Parrilla",icon:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),selected:!0},{id:"desayuno",label:"Desayuno",icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})}),selected:!1},{id:"apto",label:"Apto para fumador...",icon:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),selected:!1}],f=[{id:"favoritos",label:"Favoritos entre huéspedes",subtitle:"Los alojamientos más populares en Homlyink",icon:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),selected:!0},{id:"luxe",label:"Luxe",subtitle:"Alojamientos de lujo con un diseño único",icon:e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),selected:!1}],c=s=>{N(w=>w.includes(s)?w.filter(P=>P!==s):[...w,s])},L=s=>{v(w=>w.includes(s)?w.filter(P=>P!==s):[...w,s])},b=s=>{k(w=>w.includes(s)?w.filter(P=>P!==s):[...w,s])},W=()=>{$("reservacion"),y("cualquier"),N([]),v([]),k([]),M("favoritos")},H=()=>{S({recommended:R,accommodationType:h,services:i,amenities:a,features:C,highlighted:j}),m()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999] flex items-center justify-center p-4",children:e.jsx("div",{className:"overflow-hidden rounded-xl",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Filtros"}),e.jsx("button",{onClick:m,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recomendado para ti"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(s=>e.jsxs("button",{onClick:()=>$(s.id),className:`p-3 border rounded-lg text-left transition-all ${R===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-1",children:s.icon}),e.jsx("div",{className:"text-sm font-medium text-blue-600",children:s.label})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tipo de alojamiento"}),e.jsx("div",{className:"flex space-x-2",children:B.map(s=>e.jsx("button",{onClick:()=>y(s.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${h===s.id?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.label},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Servicios"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Popular"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:V.map(s=>e.jsx("button",{onClick:()=>c(s.id),className:`p-3 border rounded-lg text-left transition-all ${i.includes(s.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:s.icon}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:s.label})]}),i.includes(s.id)&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Comodidades"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:A.map(s=>e.jsx("button",{onClick:()=>L(s.id),className:`p-3 border rounded-lg text-left transition-all ${a.includes(s.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:s.icon}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:s.label})]}),a.includes(s.id)&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Características"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(s=>e.jsx("button",{onClick:()=>b(s.id),className:`p-3 border rounded-lg text-left transition-all ${C.includes(s.id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:s.icon}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:s.label})]}),C.includes(s.id)&&e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})},s.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Alojamientos destacados"}),e.jsx("div",{className:"space-y-3",children:f.map(s=>e.jsx("button",{onClick:()=>M(s.id),className:`w-full p-4 border rounded-lg text-left transition-all ${j===s.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.icon,e.jsx("span",{className:"font-medium text-blue-600",children:s.label})]}),e.jsx("p",{className:"text-xs text-gray-600",children:s.subtitle})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${j===s.id?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:j===s.id&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},s.id))})]})]}),e.jsxs("div",{className:"flex space-x-3 p-4 border-t bg-gray-50",children:[e.jsx("button",{onClick:W,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-100 transition-colors",children:"Limpiar filtros"}),e.jsx("button",{onClick:H,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Mostrar alojamientos"})]})]})})})};function ue({propiedades:n,searchFilters:m={},faqs:S=[],landing:g}){const[R,$]=l.useState(m.location||"");l.useState("Fecha");const[h,y]=l.useState(""),[i,N]=l.useState([0,500]),[a,v]=l.useState("relevancia"),[C,k]=l.useState(!1),[j,M]=l.useState(!1),[E,B]=l.useState(!1),[V,A]=l.useState(!1),[o,f]=l.useState({priceRange:[0,500],guests:"",bedrooms:"",amenities:[],services:[],characteristics:[],propertyType:"",location:null,instantBook:!1,featured:!1}),[c,L]=l.useState(!1),[b,W]=l.useState(!0),[H,s]=l.useState(n||[]),[w,P]=l.useState({total:(n==null?void 0:n.length)||0}),[q,Q]=l.useState(null),[O,U]=l.useState(null),Y=async()=>{try{const r=await(await fetch("/api/properties/location-stats")).json();r.success&&r.center&&(Q(r),U(r.center),console.log("🗺️ Mapa centrado en:",r.center.location,"con",r.center.count,"propiedades"))}catch(t){console.error("Error loading location stats:",t),U({lat:-12.046374,lng:-77.042793,location:"Lima, Perú",count:0})}};l.useEffect(()=>{if(Y(),m){const t=(parseInt(m.adults)||0)+(parseInt(m.children)||0);t>0&&(y(t.toString()),f(r=>({...r,guests:t.toString()}))),(m.location||t>0)&&console.log("Filtros de búsqueda aplicados:",m)}},[m]),l.useEffect(()=>{n&&(s(n),P({total:n.length}))},[n]);const T=(t=o)=>{let r=n||[];R&&(r=r.filter(d=>[d.district||"",d.province||"",d.department||"",d.address||""].join(" ").toLowerCase().includes(R.toLowerCase())));const p=t.priceRange||i;(p[0]>0||p[1]<500)&&(r=r.filter(d=>{const z=parseFloat(d.price_per_night||0);return z>=p[0]&&z<=p[1]}));const x=t.guests||h;x&&(r=r.filter(d=>parseInt(d.max_guests||0)>=parseInt(x))),t.bedrooms&&(r=r.filter(d=>parseInt(d.bedrooms||0)>=parseInt(t.bedrooms)));const u=[...t.amenities||[],...t.services||[],...t.characteristics||[]];u.length>0&&(r=r.filter(d=>{const z=d.amenities||[];return u.some(D=>z.some(K=>K.toLowerCase().includes(D.toLowerCase())))})),t.propertyType&&t.propertyType!=="cualquier"&&(r=r.filter(d=>d.property_type&&d.property_type.toLowerCase().includes(t.propertyType.toLowerCase()))),t.instantBook&&(r=r.filter(d=>d.instant_book===!0)),t.featured&&(r=r.filter(d=>d.featured===!0)),t.location&&(r=r.filter(d=>!d.latitude||!d.longitude?!1:Z(t.location.lat,t.location.lng,parseFloat(d.latitude),parseFloat(d.longitude))<=5)),r=X(r,a),s(r),P({total:r.length})},X=(t,r)=>{const p=[...t];switch(r){case"precio-menor":return p.sort((x,u)=>parseFloat(x.price_per_night||0)-parseFloat(u.price_per_night||0));case"precio-mayor":return p.sort((x,u)=>parseFloat(u.price_per_night||0)-parseFloat(x.price_per_night||0));case"fecha-reciente":return p.sort((x,u)=>new Date(u.created_at||0)-new Date(x.created_at||0));case"fecha-antigua":return p.sort((x,u)=>new Date(x.created_at||0)-new Date(u.created_at||0));case"rating":return p.sort((x,u)=>parseFloat(u.rating||0)-parseFloat(x.rating||0));case"huespedes":return p.sort((x,u)=>parseInt(u.max_guests||0)-parseInt(x.max_guests||0));default:return p.sort((x,u)=>x.featured&&!u.featured?-1:!x.featured&&u.featured?1:parseFloat(u.rating||0)-parseFloat(x.rating||0))}},Z=(t,r,p,x)=>{const d=(p-t)*Math.PI/180,z=(x-r)*Math.PI/180,D=Math.sin(d/2)*Math.sin(d/2)+Math.cos(t*Math.PI/180)*Math.cos(p*Math.PI/180)*Math.sin(z/2)*Math.sin(z/2);return 6371*(2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D)))},F=t=>{$(t.target.value),setTimeout(()=>T(),300)},G=t=>{y(t),M(!1);const r={...o,guests:t};f(r),T(r)},_=(t,r)=>{N([t,r]),B(!1);const p={...o,priceRange:[t,r]};f(p),T(p)},I=t=>{v(t),k(!1),T()};return l.useEffect(()=>{n&&T()},[a]),l.useEffect(()=>{n&&(s(n),P({total:n.length}),m&&(m.location||m.adults||m.children)&&setTimeout(()=>{T()},100))},[n,m]),l.useEffect(()=>{const t=r=>{r.target.closest(".dropdown-container")||(k(!1),M(!1),B(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),l.useEffect(()=>{const t=()=>{L(window.innerWidth<768),window.innerWidth>=768&&W(!0)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(le,{}),e.jsx("div",{className:"bg-white sticky top-0 z-40 shadow-sm",children:e.jsxs("div",{className:"mx-auto px-[5%] py-3 md:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 md:h-5 md:w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:R,onChange:F,className:"block w-full pl-9 pr-3 py-2 md:py-3 border border-gray-300 rounded-full text-sm md:text-base leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"¿A dónde vas?"})]})}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-3",children:[e.jsxs("div",{className:"relative dropdown-container",children:[e.jsxs("button",{onClick:()=>{k(!C),M(!1),B(!1)},className:"px-2 md:px-4 py-2 border border-gray-300 rounded-full text-xs md:text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-1 md:gap-2",children:[e.jsx("span",{className:"hidden md:inline",children:a==="relevancia"?"Relevancia":a==="precio-menor"?"Precio: menor a mayor":a==="precio-mayor"?"Precio: mayor a menor":a==="fecha-reciente"?"Más recientes":a==="fecha-antigua"?"Más antiguos":a==="rating"?"Mejor valorados":a==="huespedes"?"Más huéspedes":"Ordenar"}),e.jsx("span",{className:"md:hidden",children:a==="relevancia"?"Relevancia":a==="precio-menor"?"Precio ↓":a==="precio-mayor"?"Precio ↑":a==="fecha-reciente"?"Recientes":a==="fecha-antigua"?"Antiguos":a==="rating"?"Rating":a==="huespedes"?"Huéspedes":"Orden"}),e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),C&&e.jsx("div",{className:"absolute top-full mt-2 w-48 md:w-56 right-0 md:right-auto bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx("button",{onClick:()=>I("relevancia"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="relevancia"?"bg-blue-50 text-blue-700":""}`,children:"Relevancia"}),e.jsx("button",{onClick:()=>I("precio-menor"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="precio-menor"?"bg-blue-50 text-blue-700":""}`,children:"Precio: menor a mayor"}),e.jsx("button",{onClick:()=>I("precio-mayor"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="precio-mayor"?"bg-blue-50 text-blue-700":""}`,children:"Precio: mayor a menor"}),e.jsx("button",{onClick:()=>I("fecha-reciente"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="fecha-reciente"?"bg-blue-50 text-blue-700":""}`,children:"Más recientes"}),e.jsx("button",{onClick:()=>I("fecha-antigua"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="fecha-antigua"?"bg-blue-50 text-blue-700":""}`,children:"Más antiguos"}),e.jsx("button",{onClick:()=>I("rating"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="rating"?"bg-blue-50 text-blue-700":""}`,children:"Mejor valorados"}),e.jsx("button",{onClick:()=>I("huespedes"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${a==="huespedes"?"bg-blue-50 text-blue-700":""}`,children:"Más huéspedes"})]})})]}),e.jsxs("div",{className:"relative dropdown-container hidden xs:block",children:[e.jsxs("button",{onClick:()=>{M(!j),k(!1),B(!1)},className:`px-2 md:px-4 py-2 border rounded-full text-xs md:text-sm font-medium ${h?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-1 md:gap-2`,children:[e.jsx("span",{className:"hidden md:inline",children:h?`${h} huéspedes`:"Huéspedes"}),e.jsx("span",{className:"md:hidden",children:h?`${h}`:"Huéspedes"}),e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&e.jsx("div",{className:"absolute top-full mt-2 w-40 md:w-48 right-0 md:right-auto bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[[1,2,3,4,5,6,7,8].map(t=>e.jsxs("button",{onClick:()=>G(t.toString()),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${h===t.toString()?"bg-blue-50 text-blue-700":""}`,children:[t," huésped",t>1?"es":""]},t)),e.jsx("button",{onClick:()=>G("8+"),className:`w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100 ${h==="8+"?"bg-blue-50 text-blue-700":""}`,children:"8+ huéspedes"}),h&&e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsx("button",{onClick:()=>G(""),className:"w-full text-left px-3 py-2 rounded-md text-sm text-red-600 hover:bg-red-50",children:"Limpiar"})})]})})]}),e.jsxs("div",{className:"relative dropdown-container hidden sm:block",children:[e.jsxs("button",{onClick:()=>{B(!E),k(!1),M(!1)},className:`px-2 md:px-4 py-2 border rounded-full text-xs md:text-sm font-medium ${i[0]>0||i[1]<500?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700"} hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-1 md:gap-2`,children:[i[0]>0||i[1]<500?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden md:inline",children:`S/ ${i[0]} - S/ ${i[1]}`}),e.jsx("span",{className:"md:hidden",children:`S/${i[0]}-${i[1]}`})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden md:inline",children:"Rango de precio"}),e.jsx("span",{className:"md:hidden",children:"Precio"})]}),e.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),E&&e.jsx("div",{className:"absolute top-full mt-2 w-48 md:w-64 right-0 md:right-auto bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Rango de precio por noche"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>_(0,50),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 0 - S/ 50"}),e.jsx("button",{onClick:()=>_(50,100),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 50 - S/ 100"}),e.jsx("button",{onClick:()=>_(100,200),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 100 - S/ 200"}),e.jsx("button",{onClick:()=>_(200,300),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 200 - S/ 300"}),e.jsx("button",{onClick:()=>_(300,500),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 300 - S/ 500"}),e.jsx("button",{onClick:()=>_(500,1e3),className:"w-full text-left px-3 py-2 rounded-md text-sm hover:bg-gray-100",children:"S/ 500+"}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsx("button",{onClick:()=>_(0,500),className:"w-full text-left px-3 py-2 rounded-md text-sm text-red-600 hover:bg-red-50",children:"Limpiar rango"})})]})]})})]}),e.jsx("button",{onClick:()=>{A(!0)},className:"p-2 border border-gray-300 rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:e.jsx("svg",{className:"h-4 w-4 md:h-5 md:w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})})}),c&&e.jsx("button",{onClick:()=>W(!b),className:"p-2 border border-gray-300 rounded-full text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:b?e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})}):e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})})]})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm md:text-lg text-gray-600",children:[w.total," propiedades encontradas"]})})]})}),e.jsx(xe,{isOpen:V,onClose:()=>A(!1),onApplyFilters:t=>{console.log("Modal filters received:",t);const r={...o,instantBook:t.recommended==="reservacion",featured:t.highlighted==="favoritos",propertyType:t.accommodationType==="cualquier"?"":t.accommodationType,services:t.services||[],amenities:t.amenities||[],characteristics:t.features||[],priceRange:o.priceRange,guests:o.guests,bedrooms:o.bedrooms,location:o.location};console.log("Applied filters:",r),f(r),T(r)},currentFilters:o}),e.jsxs("div",{className:"flex flex-col md:flex-row bg-white gap-0 md:gap-6 min-h-screen md:px-[5%]",children:[c&&e.jsxs("div",{className:"sticky top-[70px] z-30 flex bg-white border-b shadow-sm",children:[e.jsx("button",{onClick:()=>W(!1),className:`flex-1 py-3 font-medium text-sm ${b?"text-gray-500":"text-blue-600 border-b-2 border-blue-600"}`,children:"Lista"}),e.jsx("button",{onClick:()=>W(!0),className:`flex-1 py-3 font-medium text-sm ${b?"text-blue-600 border-b-2 border-blue-600":"text-gray-500"}`,children:"Mapa"})]}),(!c||c&&!b)&&e.jsx("div",{className:`${c?"w-full":"w-2/3"} flex flex-col bg-white property-list-container`,children:e.jsx(J,{propiedades:H,center:O,locationStats:q,isMobileView:c,showMapOnly:!1})}),(!c||c&&b)&&e.jsx("div",{className:`${c?"w-full h-[calc(100vh-145px)]":"w-1/3 sticky top-0 h-screen"} rounded-xl overflow-hidden`,children:e.jsx(J,{propiedades:H,center:O,locationStats:q,isMobileView:c,showMapOnly:!0})})]}),e.jsx(he,{faqs:S,landingFAQS:g}),e.jsx(ne,{})]})}se((n,m)=>{re(n).render(e.jsx(ae,{children:e.jsx(oe,{...m,children:e.jsx(ue,{...m})})}))});
