import{j as o}from"./RequirementCard-DEdD30eg.js";import{a as pe}from"./index.esm-zkRd-kwu.js";import{J as fe}from"./JSEncrypt-D3I3x59l.js";import{r as j,g as me}from"./index-RYns6xqu.js";import{c as he}from"./ReactAppend-vpV7VTGG.js";import{P as g}from"./index-DNUR7M9R.js";import{S as U}from"./sweetalert2.all-DJo0UVK6.js";import{C as ge,G as oe}from"./CreateReactScript-BuKYEKxn.js";import{A as ye}from"./AuthRest-C3JEkWSt.js";import"./axios-B4uVmeYG.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./index-CXU7o9CY.js";import"./main-Y8JAyXgE.js";/* empty css               *//* empty css              */var xe=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z.apply(this,arguments)}function be(e,n){if(e==null)return{};var a={},r=Object.keys(e),t,l;for(l=0;l<r.length;l++)t=r[l],!(n.indexOf(t)>=0)&&(a[t]=e[t]);return a}function P(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,H(e,n)}function H(e,n){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},H(e,n)}var C=function(e){ve(n,e);function n(){var r;return r=e.call(this)||this,r.handleExpired=r.handleExpired.bind(P(r)),r.handleErrored=r.handleErrored.bind(P(r)),r.handleChange=r.handleChange.bind(P(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(P(r)),r}var a=n.prototype;return a.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},a.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},a.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var t=this;return new Promise(function(l,x){t.executionResolve=l,t.executionReject=x,t.execute()})},a.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},a.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var l=document.createElement("div");this._widgetId=t(l,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(l)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.handleRecaptchaRef=function(t){this.captcha=t},a.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var l=be(t,xe);return j.createElement("div",z({},l,{ref:this.handleRecaptchaRef}))},n}(j.Component);C.displayName="ReCAPTCHA";C.propTypes={sitekey:g.string.isRequired,onChange:g.func,grecaptcha:g.object,theme:g.oneOf(["dark","light"]),type:g.oneOf(["image","audio"]),tabindex:g.number,onExpired:g.func,onErrored:g.func,size:g.oneOf(["compact","normal","invisible"]),stoken:g.string,hl:g.string,badge:g.oneOf(["bottomright","bottomleft","inline"]),isolated:g.bool};C.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var se={exports:{}},c={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p=typeof Symbol=="function"&&Symbol.for,V=p?Symbol.for("react.element"):60103,Y=p?Symbol.for("react.portal"):60106,E=p?Symbol.for("react.fragment"):60107,O=p?Symbol.for("react.strict_mode"):60108,k=p?Symbol.for("react.profiler"):60114,A=p?Symbol.for("react.provider"):60109,T=p?Symbol.for("react.context"):60110,K=p?Symbol.for("react.async_mode"):60111,I=p?Symbol.for("react.concurrent_mode"):60111,$=p?Symbol.for("react.forward_ref"):60112,D=p?Symbol.for("react.suspense"):60113,we=p?Symbol.for("react.suspense_list"):60120,F=p?Symbol.for("react.memo"):60115,M=p?Symbol.for("react.lazy"):60116,je=p?Symbol.for("react.block"):60121,Ne=p?Symbol.for("react.fundamental"):60117,Se=p?Symbol.for("react.responder"):60118,Re=p?Symbol.for("react.scope"):60119;function y(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case V:switch(e=e.type,e){case K:case I:case E:case k:case O:case D:return e;default:switch(e=e&&e.$$typeof,e){case T:case $:case M:case F:case A:return e;default:return n}}case Y:return n}}}function ce(e){return y(e)===I}c.AsyncMode=K;c.ConcurrentMode=I;c.ContextConsumer=T;c.ContextProvider=A;c.Element=V;c.ForwardRef=$;c.Fragment=E;c.Lazy=M;c.Memo=F;c.Portal=Y;c.Profiler=k;c.StrictMode=O;c.Suspense=D;c.isAsyncMode=function(e){return ce(e)||y(e)===K};c.isConcurrentMode=ce;c.isContextConsumer=function(e){return y(e)===T};c.isContextProvider=function(e){return y(e)===A};c.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===V};c.isForwardRef=function(e){return y(e)===$};c.isFragment=function(e){return y(e)===E};c.isLazy=function(e){return y(e)===M};c.isMemo=function(e){return y(e)===F};c.isPortal=function(e){return y(e)===Y};c.isProfiler=function(e){return y(e)===k};c.isStrictMode=function(e){return y(e)===O};c.isSuspense=function(e){return y(e)===D};c.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E||e===I||e===k||e===O||e===D||e===we||typeof e=="object"&&e!==null&&(e.$$typeof===M||e.$$typeof===F||e.$$typeof===A||e.$$typeof===T||e.$$typeof===$||e.$$typeof===Ne||e.$$typeof===Se||e.$$typeof===Re||e.$$typeof===je)};c.typeOf=y;se.exports=c;var _e=se.exports,J=_e,Le={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},le={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q={};Q[J.ForwardRef]=Ce;Q[J.Memo]=le;function ne(e){return J.isMemo(e)?le:Q[e.$$typeof]||Le}var Ee=Object.defineProperty,Oe=Object.getOwnPropertyNames,ae=Object.getOwnPropertySymbols,ke=Object.getOwnPropertyDescriptor,Ae=Object.getPrototypeOf,ie=Object.prototype;function de(e,n,a){if(typeof n!="string"){if(ie){var r=Ae(n);r&&r!==ie&&de(e,r,a)}var t=Oe(n);ae&&(t=t.concat(ae(n)));for(var l=ne(e),x=ne(n),f=0;f<t.length;++f){var m=t[f];if(!Pe[m]&&!(a&&a[m])&&!(x&&x[m])&&!(l&&l[m])){var d=ke(n,m);try{Ee(e,m,d)}catch{}}}}return e}var Te=de;const Ie=me(Te);function W(){return W=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},W.apply(this,arguments)}function $e(e,n){if(e==null)return{};var a={},r=Object.keys(e),t,l;for(l=0;l<r.length;l++)t=r[l],!(n.indexOf(t)>=0)&&(a[t]=e[t]);return a}function De(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var w={},Fe=0;function Me(e,n){return n=n||{},function(r){var t=r.displayName||r.name||"Component",l=function(f){De(m,f);function m(v,s){var i;return i=f.call(this,v,s)||this,i.state={},i.__scriptURL="",i}var d=m.prototype;return d.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Fe++),this.__scriptLoaderID},d.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},d.asyncScriptLoaderHandleLoad=function(s){var i=this;this.setState(s,function(){return i.props.asyncScriptOnLoad&&i.props.asyncScriptOnLoad(i.state)})},d.asyncScriptLoaderTriggerOnScriptLoaded=function(){var s=w[this.__scriptURL];if(!s||!s.loaded)throw new Error("Script is not loaded.");for(var i in s.observers)s.observers[i](s);delete window[n.callbackName]},d.componentDidMount=function(){var s=this,i=this.setupScriptURL(),u=this.asyncScriptLoaderGetScriptLoaderID(),h=n,N=h.globalName,R=h.callbackName,X=h.scriptId;if(N&&typeof window[N]<"u"&&(w[i]={loaded:!0,observers:{}}),w[i]){var _=w[i];if(_&&(_.loaded||_.errored)){this.asyncScriptLoaderHandleLoad(_);return}_.observers[u]=function(b){return s.asyncScriptLoaderHandleLoad(b)};return}var Z={};Z[u]=function(b){return s.asyncScriptLoaderHandleLoad(b)},w[i]={loaded:!1,observers:Z};var S=document.createElement("script");S.src=i,S.async=!0;for(var ee in n.attributes)S.setAttribute(ee,n.attributes[ee]);X&&(S.id=X);var te=function(L){if(w[i]){var ue=w[i],q=ue.observers;for(var re in q)L(q[re])&&delete q[re]}};R&&typeof window<"u"&&(window[R]=function(){return s.asyncScriptLoaderTriggerOnScriptLoaded()}),S.onload=function(){var b=w[i];b&&(b.loaded=!0,te(function(L){return R?!1:(L(b),!0)}))},S.onerror=function(){var b=w[i];b&&(b.errored=!0,te(function(L){return L(b),!0}))},document.body.appendChild(S)},d.componentWillUnmount=function(){var s=this.__scriptURL;if(n.removeOnUnmount===!0)for(var i=document.getElementsByTagName("script"),u=0;u<i.length;u+=1)i[u].src.indexOf(s)>-1&&i[u].parentNode&&i[u].parentNode.removeChild(i[u]);var h=w[s];h&&(delete h.observers[this.asyncScriptLoaderGetScriptLoaderID()],n.removeOnUnmount===!0&&delete w[s])},d.render=function(){var s=n.globalName,i=this.props;i.asyncScriptOnLoad;var u=i.forwardedRef,h=$e(i,["asyncScriptOnLoad","forwardedRef"]);return s&&typeof window<"u"&&(h[s]=typeof window[s]<"u"?window[s]:void 0),h.ref=u,j.createElement(r,h)},m}(j.Component),x=j.forwardRef(function(f,m){return j.createElement(l,W({},f,{forwardedRef:m}))});return x.displayName="AsyncScriptLoader("+t+")",x.propTypes={asyncScriptOnLoad:g.func},Ie(x,r)}}var B="onloadcallback",qe="grecaptcha";function G(){return typeof window<"u"&&window.recaptchaOptions||{}}function Ue(){var e=G(),n=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+n+"/recaptcha/enterprise.js?onload="+B+"&render=explicit":"https://"+n+"/recaptcha/api.js?onload="+B+"&render=explicit"}const ze=Me(Ue,{callbackName:B,globalName:qe,attributes:G().nonce?{nonce:G().nonce}:{}})(C),He=({PUBLIC_RSA_KEY:e,RECAPTCHA_SITE_KEY:n})=>{document.title=`Registro | ${oe.APP_NAME}`;const a=new fe;a.setPublicKey(e);const[r,t]=j.useState(!1),[l,x]=j.useState(null),[f,m]=j.useState(!1),[d,v]=j.useState({fullName:"",email:"",phone:"",document:"",password:"",confirmPassword:""});j.useEffect(()=>{t(!1)},[]);const s=u=>{const{name:h,value:N}=u.target;v(R=>({...R,[h]:N}))},i=async u=>{if(u.preventDefault(),t(!0),!l)return t(!1),U.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});if(d.password!==d.confirmPassword)return t(!1),U.fire({icon:"warning",title:"Error",text:"Las contraseñas no coinciden",confirmButtonText:"Ok"});console.log("Submitting with captcha:",l);const h={name:d.fullName.split(" ")[0]||"",lastname:d.fullName.split(" ").slice(1).join(" ")||"",email:d.email,phone:d.phone,document:d.document,password:a.encrypt(d.password),confirmation:a.encrypt(d.confirmPassword),captcha:l};console.log("Request payload:",{...h,password:"[ENCRYPTED]",confirmation:"[ENCRYPTED]"});const N=await ye.signup(h);if(!N)return t(!1);N&&(await U.fire({icon:"success",title:"¡Cuenta creada exitosamente!",text:"Bienvenido a nuestra plataforma",confirmButtonText:"Continuar",timer:2e3}),location.href="/"),t(!1)};return o.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:o.jsxs("div",{className:"flex min-h-[700px]",children:[o.jsx("div",{className:"flex-1 p-8 lg:p-12 flex flex-col justify-center",children:o.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"flex items-center",children:o.jsx("a",{href:"/",children:o.jsx("img",{src:"/assets/img/logo.svg",alt:oe.APP_NAME,className:"object-cover object-top h-12 max-h-12 w-auto sm:h-12 sm:max-h-12 transition-all duration-300"})})})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Crear cuenta"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Aliquam quis lectus aliquam, bibendum urna vel"})]}),o.jsxs("form",{className:"space-y-4",onSubmit:i,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),o.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:d.fullName,onChange:s,placeholder:"Nombre y Apellido",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrónico"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:d.email,onChange:s,placeholder:"hola@mail.com",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Celular"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:d.phone,onChange:s,placeholder:"(+51)",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"document",className:"block text-sm font-medium text-gray-700 mb-1",children:"Documento (DNI, RUC, CE o Pasaporte)"}),o.jsx("input",{id:"document",name:"document",type:"text",required:!0,value:d.document,onChange:s,placeholder:"Ej: E-23485",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:f?"text":"password",required:!0,value:d.password,onChange:s,placeholder:"••••••••",className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>m(!f),children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar contraseña"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:f?"text":"password",required:!0,value:d.confirmPassword,onChange:s,placeholder:"••••••••",className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>m(!f),children:o.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]})]}),o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(ze,{sitekey:n,onChange:u=>{console.log("reCAPTCHA value:",u),x(u)},onExpired:()=>{console.log("reCAPTCHA expired"),x(null)},onError:u=>{console.log("reCAPTCHA error:",u),x(null)}})}),o.jsx("div",{className:"pt-2",children:o.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Creando cuenta...":"Crear cuenta"})}),o.jsx("div",{className:"text-center pt-4",children:o.jsxs("span",{className:"text-sm text-gray-600",children:["¿Ya tienes una cuenta? Ingresa"," ",o.jsx(pe,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"aquí"})]})})]})]})}),o.jsx("div",{className:"hidden lg:block flex-1 relative",children:o.jsxs("div",{className:"absolute inset-0 rounded-r-3xl overflow-hidden",children:[o.jsx("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://i.ibb.co/9mjrtNR3/image-34.png",alt:"Persona trabajando",onError:u=>{console.log("Error loading image:",u.target.src),u.target.src="/assets/cambiafx/nosotros.png"},onLoad:()=>console.log("Image loaded successfully")}),o.jsx("div",{className:"absolute inset-0 bg-black opacity-30"})]})})]})})})};ge((e,n)=>{he(e).render(o.jsx(He,{...n}))});
