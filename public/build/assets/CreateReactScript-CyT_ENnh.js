var E=Object.defineProperty;var L=(r,t,a)=>t in r?E(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var e=(r,t,a)=>(L(r,typeof t!="symbol"?t+"":t,a),a);import{V as O}from"./index.esm-Cu-mVv1q.js";import{m as h}from"./main-Br9xqDfn.js";/* empty css               *//* empty css              */const n=class n{};e(n,"WA_URL",null),e(n,"PUBLIC_RSA_KEY",null),e(n,"APP_PROTOCOL",null),e(n,"APP_URL",null),e(n,"WA_URL",null),e(n,"APP_DOMAIN",null),e(n,"APP_NAME","WeFem"),e(n,"APP_CORRELATIVE","WeFem"),e(n,"GMAPS_API_KEY",null),e(n,"set",(t,a)=>{n[t]=a}),e(n,"get",t=>n[t]);let P=n;const m=class m{};e(m,"set",(t,a)=>{m[t]=a}),e(m,"get",t=>m[t]??null);let d=m;const S=r=>{O({resolve:t=>`/${t}.jsx`,setup:({el:t,props:a})=>{const s=a.initialPage.props;if(s!=null&&s.global)for(const i in s.global)P.set(i,s.global[i]);if(s!=null&&s.generals)for(const i in s.generals){const{correlative:o,description:u}=s.generals[i];d.set(o,u)}const p=(i,...o)=>{var f,R,g,C;const u=[];if(Array.isArray(i))for(const c of i)u.push(...o.map(A=>`${c}.${A}`));else u.push(...o.map(c=>`${i}.${c}`));if((R=(f=s==null?void 0:s.session)==null?void 0:f.permissions)!=null&&R.find(c=>u.includes(c.name)||c.name=="general.root"))return!0;const l=((g=s==null?void 0:s.session)==null?void 0:g.roles)??[];for(const c of l)if((C=c==null?void 0:c.permissions)!=null&&C.find(A=>u.includes(A.name)||A.name=="general.root"))return!0;return!1},y=(...i)=>{var l;const o=[];return Array.isArray(i)?o.push(...i):o.push(i),!!(((l=s==null?void 0:s.session)==null?void 0:l.roles)??[]).find(f=>o.includes(f.name))};h.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(h.Cookies.get("XSRF-TOKEN"))},r(t,{...s,can:p,hasRole:y})}})};export{S as C,P as G};
