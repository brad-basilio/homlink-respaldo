var g=Object.defineProperty;var f=(s,r,a)=>r in s?g(s,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[r]=a;var m=(s,r,a)=>(f(s,typeof r!="symbol"?r+"":r,a),a);import{j as t}from"./RequirementCard-DEdD30eg.js";import{r as p}from"./index-RYns6xqu.js";import{c as x}from"./ReactAppend-vpV7VTGG.js";import{B as h}from"./Base-mdWpA4Gg.js";import{C as j}from"./CreateReactScript-BuKYEKxn.js";import{B as b}from"./Results-BBVbNL2k.js";import"./index-CXU7o9CY.js";import"./tippy-react.esm-DYFqe69e.js";/* empty css              */import"./Logout-BlWggqgx.js";import"./main-Y8JAyXgE.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./index.esm-zkRd-kwu.js";import"./axios-B4uVmeYG.js";import"./useTranslation-CZbMeh78.js";import"./Filter-CpekYgBC.js";/* empty css               */class y extends b{constructor(){super(...arguments);m(this,"path","admin/gallery");m(this,"hasFiles",!0)}}function v(s){return s.toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}const N=new y,C=({images:s=[]})=>{const[r,a]=p.useState(s.map(e=>(e.uuid=crypto.randomUUID(),e)));p.useEffect(()=>{$(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-fade",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})},[null]);const d=async e=>{var c;const n=((c=e.target.files)==null?void 0:c[0])??null;if(!n)return;e.target.value=null;const i=e.target.name,o=new FormData;o.append("image",n),o.append("name",i),await N.save(o)&&a(u=>u.map(l=>(l.src==i&&(l.uuid=crypto.randomUUID()),l)))};return t.jsx("div",{className:"port",children:t.jsx("div",{className:"row portfolioContainer",children:r.map((e,n)=>{const i=v(e.name);return t.jsx("div",{className:"col-xl-3 col-lg-4 col-md-6 natural personal",children:t.jsxs("div",{className:"gal-detail thumb",children:[t.jsxs("div",{style:{position:"relative"},children:[t.jsx("img",{src:`/assets/resources/${e.src}?v=${e.uuid}`,className:"thumb-img img-fluid",alt:"work-thumbnail",onError:o=>o.target.src="/assets/resources/cover-404.svg",style:{aspectRatio:e.aspect,objectFit:e.fit,objectPosition:"center",width:"100%"}}),t.jsxs("div",{className:"d-flex px-2 py-1 justify-content-center gap-1",style:{backgroundColor:"rgba(0, 0, 0, .25)",position:"absolute",bottom:0,width:"100%",borderRadius:"0 0 3px 3px"},children:[t.jsxs("a",{href:`/assets/resources/${e.src}`,className:"btn btn-xs btn-primary image-popup",title:e.name,children:[t.jsx("i",{className:"mdi mdi-eye me-1"}),"Abrir"]}),t.jsx("input",{type:"file",name:e.src,id:`image-${i}`,onChange:d,hidden:!0,accept:"image/*"}),t.jsxs("label",{htmlFor:`image-${i}`,className:"btn btn-xs btn-dark",children:[t.jsx("i",{className:"mdi mdi-image-edit me-1"}),"Cambiar"]})]})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("h4",{children:e.name}),t.jsx("p",{className:"font-13 text-muted mb-2",children:e.description})]})]})},n)})})})};j((s,r)=>{x(s).render(t.jsx(h,{...r,title:"Galeria",children:t.jsx(C,{...r})}))});
