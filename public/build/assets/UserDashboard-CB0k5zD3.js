import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as n}from"./index-RYns6xqu.js";import{c as H}from"./ReactAppend-vpV7VTGG.js";import{C as F}from"./CreateReactScript-BuKYEKxn.js";import{B as G}from"./Base-B0jCVaQs.js";import{H as U}from"./Header-CbCCnhjC.js";import{F as q}from"./Footer-DMqmIg0o.js";import{C as O}from"./Detail-BUTDw3GY.js";import"./index-CXU7o9CY.js";import"./index.esm-zkRd-kwu.js";import"./axios-B4uVmeYG.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./main-Y8JAyXgE.js";/* empty css               *//* empty css              */import"./Filter-CpekYgBC.js";import"./Results-BBVbNL2k.js";import"./useTranslation-CZbMeh78.js";import"./createLucideIcon-D_WcjKff.js";import"./proxy-Dg7W2VMC.js";import"./index-SDlHnhXR.js";import"./index-DNUR7M9R.js";import"./HtmlContent-CZmf3wHb.js";import"./sweetalert2.all-DJo0UVK6.js";const K=({user:o,properties:j,userStats:k})=>{var D,z,$;const[N,R]=n.useState(j||[]),[a,M]=n.useState(k||{}),[v,E]=n.useState("30"),[S,C]=n.useState(!1),[t,B]=n.useState(null),[g,A]=n.useState("overview"),[T,y]=n.useState(!1);console.log("🏠 UserDashboard mounted with data:",{user:o,properties:j,userStats:k}),n.useEffect(()=>{v&&V()},[v]);const V=async()=>{var s,r,h,c,m,i,x,u;try{C(!0),console.log("📊 Loading dashboard data for period:",v);const b=new Date().toISOString().split("T")[0],L=new Date(Date.now()-parseInt(v)*24*60*60*1e3).toISOString().split("T")[0],_=await fetch(`/api/user-dashboard-metrics?start_date=${L}&end_date=${b}`,{headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}});if(_.ok){const l=await _.json();console.log("📈 Dashboard data received:",l),R(l.properties||[]);const f={total_properties:((r=l.properties)==null?void 0:r.length)||0,active_properties:((h=l.properties)==null?void 0:h.filter(p=>p.active&&p.admin_approved).length)||0,pending_properties:((c=l.properties)==null?void 0:c.filter(p=>!p.admin_approved).length)||0,featured_properties:((m=l.properties)==null?void 0:m.filter(p=>p.featured).length)||0,total_views:((i=l.total_metrics)==null?void 0:i.property_view)||0,total_airbnb_clicks:((x=l.total_metrics)==null?void 0:x.airbnb_click)||0,total_gallery_views:((u=l.total_metrics)==null?void 0:u.gallery_view)||0};f.conversion_rate=f.total_views>0?(f.total_airbnb_clicks/f.total_views*100).toFixed(1):"0.0",M(f)}else console.error("❌ Error loading dashboard data:",_.status)}catch(b){console.error("❌ Error loading dashboard data:",b)}finally{C(!1)}},I=s=>{B(s),y(!0)},P=s=>s.admin_approved?s.active?s.featured?e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-emerald-100 to-teal-100 text-emerald-800 border border-emerald-200 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"⭐ Destacada"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-emerald-100 to-green-100 text-emerald-800 border border-emerald-200 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Activa"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border border-red-200 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Inactiva"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-gradient-to-r from-yellow-100 to-orange-100 text-orange-800 border border-orange-200 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pendiente Aprobación"]}),d=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":(s==null?void 0:s.toString())||"0",w=({title:s,value:r,icon:h,gradient:c,description:m,trend:i,suffix:x=""})=>e.jsxs("div",{className:"group relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c} opacity-5 group-hover:opacity-10 transition-opacity duration-300`}),e.jsxs("div",{className:"relative bg-white backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-br ${c} flex items-center justify-center shadow-lg`,children:e.jsx("i",{className:`${h} text-white text-2xl`})}),i&&e.jsxs("div",{className:`text-sm font-bold px-2 py-1 rounded-lg ${i.positive?"text-emerald-700 bg-emerald-100":"text-red-700 bg-red-100"}`,children:[e.jsx("i",{className:`mdi mdi-arrow-${i.positive?"up":"down"} mr-1`}),i.value,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-2",children:s}),e.jsxs("p",{className:"text-3xl font-bold text-neutral-dark mb-1",children:[d(r),x]}),m&&e.jsx("p",{className:"text-xs text-gray-500",children:m})]})]})]});return o?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[e.jsx(U,{}),e.jsxs("div",{className:"px-[5%] mx-auto  py-8",children:[e.jsxs("div",{className:"relative mb-10 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary via-accent to-secondary opacity-90"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsx("div",{className:"relative rounded-3xl p-8 md:p-12 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"mb-6 md:mb-0",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4 leading-tight",children:["¡Hola, ",e.jsx("span",{className:"text-yellow-300",children:(o==null?void 0:o.name)||"Usuario"}),"! 👋"]}),e.jsx("p",{className:"text-xl text-blue-100 leading-relaxed max-w-2xl",children:"Bienvenido a tu centro de control. Aquí puedes gestionar y monitorear el rendimiento de todas tus propiedades en tiempo real."})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"w-32 h-32 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center backdrop-blur-sm shadow-2xl",children:e.jsx("i",{className:"mdi mdi-view-dashboard text-6xl text-white"})})})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("label",{className:"block text-sm font-bold text-neutral-dark mb-3",children:"📊 Período de análisis"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:v,onChange:s=>E(s.target.value),className:"appearance-none bg-gradient-to-r from-primary to-accent text-white font-semibold rounded-xl px-6 py-3 pr-10 shadow-lg focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all duration-200",disabled:S,children:[e.jsx("option",{value:"7",className:"bg-white text-neutral-dark",children:"📅 Últimos 7 días"}),e.jsx("option",{value:"30",className:"bg-white text-neutral-dark",children:"📊 Últimos 30 días"}),e.jsx("option",{value:"90",className:"bg-white text-neutral-dark",children:"📈 Últimos 3 meses"}),e.jsx("option",{value:"365",className:"bg-white text-neutral-dark",children:"📋 Último año"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("i",{className:"mdi mdi-chevron-down text-white text-xl"})})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 bg-gray-50 px-4 py-2 rounded-lg",children:[e.jsx("i",{className:"mdi mdi-clock-outline mr-2 text-primary"}),e.jsx("span",{className:"font-semibold",children:"Actualizado:"}),e.jsx("span",{className:"ml-1",children:new Date().toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})})]})]})})}),e.jsx("div",{className:"border-b-2 border-gray-200 mb-8",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>A("overview"),className:`group relative py-4 px-1 border-b-4 font-bold text-lg transition-all duration-300 ${g==="overview"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-neutral-dark hover:border-gray-300"}`,children:[e.jsx("i",{className:"mdi mdi-view-dashboard mr-3 text-xl"}),"Resumen General",g==="overview"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})]}),e.jsxs("button",{onClick:()=>A("properties"),className:`group relative py-4 px-1 border-b-4 font-bold text-lg transition-all duration-300 ${g==="properties"?"border-primary text-primary":"border-transparent text-gray-500 hover:text-neutral-dark hover:border-gray-300"}`,children:[e.jsx("i",{className:"mdi mdi-home-city mr-3 text-xl"}),"Mis Propiedades",e.jsx("span",{className:"ml-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-full",children:N.length}),g==="properties"&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-accent rounded-full"})]})]})}),S?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto mb-6 shadow-lg"}),e.jsx("p",{className:"text-neutral-dark font-semibold text-xl",children:"Cargando datos..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Analizando métricas de rendimiento"})]}):e.jsxs(e.Fragment,{children:[g==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(w,{title:"Total Visualizaciones",value:a.total_views||0,icon:"mdi mdi-eye-outline",gradient:"from-blue-500 to-primary",description:"Vistas de todas tus propiedades",trend:{positive:!0,value:12.5}}),e.jsx(w,{title:"Clicks a Airbnb",value:a.total_airbnb_clicks||0,icon:"mdi mdi-open-in-new",gradient:"from-secondary to-red-600",description:"Redirecciones efectivas a Airbnb",trend:{positive:!0,value:8.2}}),e.jsx(w,{title:"Visualizaciones Galería",value:a.total_gallery_views||0,icon:"mdi mdi-image-multiple",gradient:"from-emerald-500 to-teal-600",description:"Interacciones con galerías de fotos",trend:{positive:!0,value:15.3}}),e.jsx(w,{title:"Tasa de Conversión",value:a.conversion_rate||"0.0",icon:"mdi mdi-chart-line",gradient:"from-purple-500 to-accent",description:"Porcentaje de clicks por vista",suffix:"%"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-teal-600/5"}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center mr-4 shadow-lg",children:e.jsx("i",{className:"mdi mdi-home-city text-white text-2xl"})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-dark",children:"Estado de Propiedades"})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-200 hover:from-emerald-100 hover:to-green-100 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full mr-4 shadow-md"}),e.jsx("span",{className:"text-lg font-semibold text-emerald-800",children:"Activas"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-700",children:a.active_properties||0}),e.jsx("div",{className:"text-xs text-emerald-600 font-medium",children:"Publicadas"})]})]}),e.jsxs("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl border border-orange-200 hover:from-orange-100 hover:to-yellow-100 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-full mr-4 shadow-md"}),e.jsx("span",{className:"text-lg font-semibold text-orange-800",children:"Pendientes"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700",children:a.pending_properties||0}),e.jsx("div",{className:"text-xs text-orange-600 font-medium",children:"En revisión"})]})]}),e.jsxs("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-violet-50 rounded-xl border border-purple-200 hover:from-purple-100 hover:to-violet-100 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full mr-4 shadow-md"}),e.jsx("span",{className:"text-lg font-semibold text-purple-800",children:"Destacadas"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700",children:a.featured_properties||0}),e.jsx("div",{className:"text-xs text-purple-600 font-medium",children:"Premium"})]})]})]})]})]}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5"}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center mr-4 shadow-lg",children:e.jsx("i",{className:"mdi mdi-chart-donut text-white text-2xl"})}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-dark",children:"Resumen de Actividad"})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"relative inline-flex items-center justify-center",children:e.jsx("div",{className:"text-5xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:d((a.total_airbnb_clicks||0)+(a.total_gallery_views||0))})}),e.jsx("p",{className:"text-lg text-gray-600 font-semibold mt-2",children:"Total de Interacciones"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-primary/10 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary mb-1",children:[a.conversion_rate||"0.0","%"]}),e.jsx("div",{className:"text-sm text-blue-700 font-semibold",children:"Tasa de Conversión"})]}),e.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-accent/10 rounded-xl border border-purple-200",children:[e.jsx("div",{className:"text-2xl font-bold text-accent mb-1",children:a.total_properties||0}),e.jsx("div",{className:"text-sm text-purple-700 font-semibold",children:"Total Propiedades"})]})]})]})]})]})]}),g==="properties"&&e.jsx("div",{className:"space-y-6",children:N.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center mr-4 shadow-lg",children:e.jsx("i",{className:"mdi mdi-home-city text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-neutral-dark",children:"Mis Propiedades"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona y monitorea el rendimiento de tus propiedades"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:N.length}),e.jsx("div",{className:"text-sm text-gray-500 font-semibold",children:"propiedades registradas"})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Propiedad"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Ubicación"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Detalles"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Métricas"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-gray-600 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:N.map((s,r)=>{var x,u,b;const h=((x=s.metrics_summary)==null?void 0:x.property_view)||0,c=((u=s.metrics_summary)==null?void 0:u.airbnb_click)||0,m=((b=s.metrics_summary)==null?void 0:b.gallery_view)||0,i=s.conversion_rate||0;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s!=null&&s.main_image?e.jsx("img",{src:`/api/property/media/${s.main_image}`,alt:s.title,className:"w-16 h-12 object-cover rounded-lg shadow-md"}):e.jsx("div",{className:"w-16 h-12 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center shadow-md",children:e.jsx("i",{className:"mdi mdi-home text-white text-lg"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-bold text-gray-900 truncate max-w-xs",title:s.title,children:s.title||"Sin título"}),e.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["/",s.slug]}),s.price_per_night&&e.jsxs("p",{className:"text-sm font-semibold text-primary",children:[s.currency||"$"," ",s.price_per_night,"/noche"]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:s.district}),e.jsx("p",{className:"text-xs text-gray-500",children:s.city}),e.jsx("p",{className:"text-xs text-gray-400 capitalize",children:s.platform||"N/A"})]})}),e.jsxs("td",{className:"px-6 py-4 text-center",children:[e.jsxs("div",{className:"flex justify-center space-x-4 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.bedrooms||"-"}),e.jsx("div",{className:"text-gray-500",children:"Hab."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.bathrooms||"-"}),e.jsx("div",{className:"text-gray-500",children:"Baños"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-800",children:s.max_guests||"-"}),e.jsx("div",{className:"text-gray-500",children:"Hués."})]})]}),s.rating&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:[e.jsx("i",{className:"mdi mdi-star mr-1"}),s.rating]})})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Vistas:"}),e.jsx("span",{className:"font-bold text-primary",children:d(h)})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Clicks:"}),e.jsx("span",{className:"font-bold text-secondary",children:d(c)})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Galería:"}),e.jsx("span",{className:"font-bold text-emerald-600",children:d(m)})]}),e.jsx("div",{className:"pt-1 border-t border-gray-100",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-bold ${i>=10?"bg-emerald-100 text-emerald-800":i>=5?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:[i,"% conv."]})})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:P(s)}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsxs("button",{onClick:()=>I(s),className:"inline-flex items-center px-3 py-1.5 bg-gradient-to-r from-primary to-accent text-white text-xs font-semibold rounded-lg hover:shadow-lg hover:scale-105 transition-all duration-200",title:"Ver detalles completos",children:[e.jsx("i",{className:"mdi mdi-eye mr-1"}),"Detalles"]}),e.jsxs("a",{href:`/property/${s.slug}`,target:"_blank",className:"inline-flex items-center px-3 py-1.5 bg-white border border-gray-300 text-gray-700 text-xs font-semibold rounded-lg hover:border-primary hover:text-primary hover:shadow-lg hover:scale-105 transition-all duration-200",title:"Ver en el sitio",children:[e.jsx("i",{className:"mdi mdi-open-in-new mr-1"}),"Ver"]})]})})]},s.id)})})]})})})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsxs("div",{className:"relative inline-block mb-8",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto shadow-xl",children:e.jsx("i",{className:"mdi mdi-home-outline text-5xl text-gray-400"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-primary to-accent rounded-full flex items-center justify-center shadow-lg",children:e.jsx("i",{className:"mdi mdi-plus text-white text-lg"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-neutral-dark mb-4",children:"¡Comienza tu viaje en Homlink!"}),e.jsx("p",{className:"text-gray-600 text-lg mb-8 max-w-md mx-auto",children:"No tienes propiedades registradas aún. Agrega tu primera propiedad y comienza a generar ingresos."}),e.jsxs("a",{href:"/properties/create",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-primary to-accent text-white text-lg font-bold rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300",children:[e.jsx("i",{className:"mdi mdi-plus-circle mr-3 text-xl"}),"Agregar Mi Primera Propiedad"]})]})})]}),T&&t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:()=>y(!1),children:e.jsxs("div",{className:"bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-y-auto shadow-2xl",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[t!=null&&t.main_image?e.jsx("img",{src:`/api/property/media/${t.main_image}`,alt:t.title,className:"w-16 h-16 object-cover rounded-lg shadow-md"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"mdi mdi-home text-white text-2xl"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("i",{className:"mdi mdi-map-marker mr-1"}),t.district,", ",t.city]}),e.jsxs("p",{className:"text-xs text-gray-500 font-mono",children:["/",t.slug]})]})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-colors",children:e.jsx("i",{className:"mdi mdi-close text-xl"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d(((D=t.metrics_summary)==null?void 0:D.property_view)||0)}),e.jsx("div",{className:"text-sm text-blue-700 font-semibold",children:"Visualizaciones"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d(((z=t.metrics_summary)==null?void 0:z.airbnb_click)||0)}),e.jsx("div",{className:"text-sm text-red-700 font-semibold",children:"Clicks"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d((($=t.metrics_summary)==null?void 0:$.gallery_view)||0)}),e.jsx("div",{className:"text-sm text-green-700 font-semibold",children:"Galería"})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[t.conversion_rate||0,"%"]}),e.jsx("div",{className:"text-sm text-purple-700 font-semibold",children:"Conversión"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2",children:[e.jsx("i",{className:"mdi mdi-information-outline text-primary mr-2"}),"Información Básica"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Habitaciones"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.bedrooms||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Baños"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.bathrooms||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Huéspedes"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.max_guests||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Área"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.area_m2?t.area_m2+" m²":"N/A"})]})]}),t.price_per_night&&e.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-primary font-semibold",children:"Precio por noche"}),e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[t.currency||"$"," ",t.price_per_night]})]}),t.rating&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-yellow-700 font-semibold",children:"Rating"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"mdi mdi-star text-yellow-500 text-xl mr-1"}),e.jsx("span",{className:"text-xl font-bold text-yellow-800",children:t.rating})]})]}),t.reviews_count&&e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-yellow-800",children:t.reviews_count}),e.jsx("div",{className:"text-xs text-yellow-700",children:"reseñas"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2",children:[e.jsx("i",{className:"mdi mdi-cog text-primary mr-2"}),"Detalles Adicionales"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Plataforma:"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:t.platform||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Estado:"}),P(t)]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Disponibilidad:"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:t.availability_status||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Registrada:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:new Date(t.created_at).toLocaleDateString("es-ES")})]})]})]})]}),t.description&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:[e.jsx("i",{className:"mdi mdi-text text-primary mr-2"}),"Descripción"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})})]}),t.amenities&&t.amenities.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:[e.jsx("i",{className:"mdi mdi-star text-primary mr-2"}),"Amenidades (",t.amenities.length,")"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.amenities.map((s,r)=>e.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[e.jsx("i",{className:"mdi mdi-check-circle text-green-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]},r))})})]}),t.services&&t.services.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:[e.jsx("i",{className:"mdi mdi-room-service text-primary mr-2"}),"Servicios (",t.services.length,")"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.services.map((s,r)=>e.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[e.jsx("i",{className:"mdi mdi-cog text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]},r))})})]}),t.characteristics&&t.characteristics.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:[e.jsx("i",{className:"mdi mdi-format-list-bulleted text-primary mr-2"}),"Características (",t.characteristics.length,")"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.characteristics.map((s,r)=>e.jsxs("div",{className:"flex items-center p-2 bg-white rounded border",children:[e.jsx("i",{className:"mdi mdi-tag text-purple-500 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]},r))})})]}),t.gallery&&t.gallery.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:[e.jsx("i",{className:"mdi mdi-image-multiple text-primary mr-2"}),"Galería de Imágenes (",t.gallery.length,")"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.gallery.map((s,r)=>e.jsx("div",{className:"relative aspect-square rounded-lg overflow-hidden border-2 border-white shadow-md",children:e.jsx("img",{src:`/api/property/media/${s}`,alt:`Imagen ${r+1}`,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"})},r))})})]})]}),e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-end",children:[e.jsxs("a",{href:`/property/${t.slug}`,target:"_blank",className:"inline-flex items-center justify-center px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-colors",children:[e.jsx("i",{className:"mdi mdi-open-in-new mr-2"}),"Ver en el Sitio"]}),t.external_link&&e.jsxs("a",{href:t.external_link,target:"_blank",className:"inline-flex items-center justify-center px-6 py-2 bg-secondary text-white font-semibold rounded-lg hover:bg-secondary/90 transition-colors",children:[e.jsx("i",{className:"mdi mdi-link mr-2"}),"Ir a Plataforma"]}),e.jsxs("button",{onClick:()=>y(!1),className:"inline-flex items-center justify-center px-6 py-2 bg-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-400 transition-colors",children:[e.jsx("i",{className:"mdi mdi-close mr-2"}),"Cerrar"]})]})})]})})]}),e.jsx(q,{})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto mb-6 shadow-lg"}),e.jsx("p",{className:"text-neutral-dark font-semibold text-lg",children:"Verificando usuario..."}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Un momento por favor"})]})})};F((o,j)=>{H(o).render(e.jsx(O,{children:e.jsx(G,{...j,children:e.jsx(K,{...j})})}))});
