import{j as a}from"./RequirementCard-DEdD30eg.js";import{r as c}from"./index-RYns6xqu.js";import{C as fe,e as je,G as he,f as b,Z as g,h as r,o as Ne,_ as ye,$ as _e,a0 as Ce,a1 as we,a2 as Ee}from"./CreateReactScript-C-mUikVe.js";import{c as Se}from"./ReactAppend-vpV7VTGG.js";import"./Filter-BDLE8FWR.js";import"./axios-B4uVmeYG.js";import"./index-CXU7o9CY.js";import"./TippyButton-Duhaw_sS.js";import"./DataGrid-Cd7cnf9r.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./MenuItem-CBKDeUjr.js";import"./Results-CoLI09XT.js";import"./sweetalert2.all-DJo0UVK6.js";import"./DxBox-DZgBbgD6.js";import"./TinyMCEFormGroup-TcwoFScW.js";import"./index-DNUR7M9R.js";import"./Detail-BKcVR7Sx.js";import"./index-SDlHnhXR.js";import"./HomeSeccionBlog-CZ04iwe8.js";import"./CarruselBrands-Chpi1Apc.js";import"./Strengths-8rnVxSkq.js";import"./ModalAppointment-BjEduSb5.js";import"./CallToAction-3RvJBMpr.js";import"./WeCupSection-CkKcxXUy.js";import"./BlurText-Cr9yZ_QA.js";import"./Supplies-DJwkpyzw.js";import"./Banner-CXqQ-nCn.js";import"./HeroSecctionEmpresa-Bs7Po8J9.js";import"./WhatsAppModal-BCTi89gL.js";const Pe=new Ee,ke=({generals:o})=>{var E,S,P,k,T,D,F,A,G,I,O,V,L,R,M,U,B,H,W,q,z,K,X,Q,Y,Z,J,ee,ae,ie,oe,te,se,le,re,ne,ce,me,de;const h=((E=o.find(e=>e.correlative=="location"))==null?void 0:E.description)??"0,0",p=o.filter(e=>e.correlative.endsWith("_email")&&e.correlative!=="support_email");c.useState(!1);const[m,ve]=c.useState(((S=p[0])==null?void 0:S.correlative)||""),[f,j]=c.useState({}),[N,u]=c.useState(!1),[x,y]=c.useState(null);c.useEffect(()=>{if(!m)return;const t={purchase_summary_email:"purchase_summary",order_status_changed_email:"order_status_changed",blog_published_email:"blog_published",claim_email:"claim",password_changed_email:"password_changed",reset_password_email:"password_reset",subscription_email:"subscription",verify_account_email:"verify_account",message_contact_email:"message_contact",admin_contact_notification_email:"admin_contact_notification"}[m];if(!t){j({});return}u(!0),y(null),fetch(`/api/notification-variables/${t}`).then(l=>l.json()).then(l=>{j(l.variables||{}),u(!1)}).catch(l=>{y("No se pudieron cargar las variables."),u(!1)})},[m]);const[i,s]=c.useState({email_templates:Object.fromEntries(p.map(e=>[e.correlative,e.description??""])),whatsapp_phone:((P=o.find(e=>e.correlative=="whatsapp_phone"))==null?void 0:P.description)??"",whatsapp_message:((k=o.find(e=>e.correlative=="whatsapp_message"))==null?void 0:k.description)??"",phones:((F=(D=(T=o.find(e=>e.correlative=="phone_contact"))==null?void 0:T.description)==null?void 0:D.split(","))==null?void 0:F.map(e=>e.trim()))??[""],emails:((I=(G=(A=o.find(e=>e.correlative=="email_contact"))==null?void 0:A.description)==null?void 0:G.split(","))==null?void 0:I.map(e=>e.trim()))??[""],address:((O=o.find(e=>e.correlative=="address"))==null?void 0:O.description)??"",openingHours:((V=o.find(e=>e.correlative=="opening_hours"))==null?void 0:V.description)??"",supportPhone:((L=o.find(e=>e.correlative=="support_phone"))==null?void 0:L.description)??"",supportEmail:((R=o.find(e=>e.correlative=="support_email"))==null?void 0:R.description)??"",privacyPolicy:((M=o.find(e=>e.correlative=="privacy_policy"))==null?void 0:M.description)??"",termsConditions:((U=o.find(e=>e.correlative=="terms_conditions"))==null?void 0:U.description)??"",exchangePolicy:((B=o.find(e=>e.correlative=="exchange_policy"))==null?void 0:B.description)??"",seoTitle:((H=o.find(e=>e.correlative=="seo_title"))==null?void 0:H.description)??"",seoDescription:((W=o.find(e=>e.correlative=="seo_description"))==null?void 0:W.description)??"",seoKeywords:((q=o.find(e=>e.correlative=="seo_keywords"))==null?void 0:q.description)??"",cintillo:((z=o.find(e=>e.correlative=="cintillo"))==null?void 0:z.description)??"",companyName:((K=o.find(e=>e.correlative=="company_name"))==null?void 0:K.description)??"",companyDescription:((X=o.find(e=>e.correlative=="company_description"))==null?void 0:X.description)??"",companyLogo:((Q=o.find(e=>e.correlative=="company_logo"))==null?void 0:Q.description)??"",companyUrl:((Y=o.find(e=>e.correlative=="company_url"))==null?void 0:Y.description)??"",companyPhone:((Z=o.find(e=>e.correlative=="company_phone"))==null?void 0:Z.description)??"",companyEmail:((J=o.find(e=>e.correlative=="company_email"))==null?void 0:J.description)??"",companyAddress:((ee=o.find(e=>e.correlative=="company_address"))==null?void 0:ee.description)??"",twitterSite:((ae=o.find(e=>e.correlative=="twitter_site"))==null?void 0:ae.description)??"",facebookPage:((ie=o.find(e=>e.correlative=="facebook_page"))==null?void 0:ie.description)??"",instagramProfile:((oe=o.find(e=>e.correlative=="instagram_profile"))==null?void 0:oe.description)??"",linkedinProfile:((te=o.find(e=>e.correlative=="linkedin_profile"))==null?void 0:te.description)??"",ogImageDefault:((se=o.find(e=>e.correlative=="og_image_default"))==null?void 0:se.description)??"",twitterImageDefault:((le=o.find(e=>e.correlative=="twitter_image_default"))==null?void 0:le.description)??"",googleSiteVerification:((re=o.find(e=>e.correlative=="google_site_verification"))==null?void 0:re.description)??"",bingSiteVerification:((ne=o.find(e=>e.correlative=="bing_site_verification"))==null?void 0:ne.description)??"",copyright:((ce=o.find(e=>e.correlative=="copyright"))==null?void 0:ce.description)??"Cambia FX © 2019 - Marca registrada de Tu Cambio S.A.C. - RUC: 20603864957",emailCoorporativo:((me=o.find(e=>e.correlative=="email_coorporativo"))==null?void 0:me.description)??"",location:{lat:Number(h.split(",").map(e=>e.trim())[0]),lng:Number(h.split(",").map(e=>e.trim())[1])}}),[n,d]=c.useState("policies"),_=(e,t,l)=>{const{value:v}=e.target,pe=[...i[l]];pe[t]=v,s(ge=>({...ge,[l]:pe}))},C=e=>{s(t=>({...t,[e]:[...t[e],""]}))},w=(e,t)=>{const l=[...i[t]];l.splice(e,1),s(v=>({...v,[t]:l}))},ue=e=>{s(t=>({...t,location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}))},xe=async e=>{e.preventDefault();try{await Pe.save([...Object.keys(i.email_templates).map(t=>{var l;return{correlative:t,name:((l=p.find(v=>v.correlative===t))==null?void 0:l.name)||t,description:i.email_templates[t]}}),{correlative:"whatsapp_phone",name:"Número de WhatsApp",description:i.whatsapp_phone},{correlative:"whatsapp_message",name:"Mensaje de WhatsApp",description:i.whatsapp_message},{correlative:"phone_contact",name:"Teléfono de contacto",description:i.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:i.emails.join(",")},{correlative:"address",name:"Dirección",description:i.address},{correlative:"opening_hours",name:"Horarios de atención",description:i.openingHours},{correlative:"support_phone",name:"Número de soporte",description:i.supportPhone},{correlative:"support_email",name:"Correo de soporte",description:i.supportEmail},{correlative:"privacy_policy",name:"Política de privacidad",description:i.privacyPolicy},{correlative:"terms_conditions",name:"Términos y condiciones",description:i.termsConditions},{correlative:"exchange_policy",name:"Política de cambio",description:i.exchangePolicy},{correlative:"seo_title",name:"Titulo - SEO",description:i.seoTitle},{correlative:"seo_description",name:"Descripcion - SEO",description:i.seoDescription},{correlative:"seo_keywords",name:"Palabras clave - SEO",description:i.seoKeywords},{correlative:"cintillo",name:"Texto del Cintillo",description:i.cintillo},{correlative:"company_name",name:"Nombre de la Empresa",description:i.companyName},{correlative:"company_description",name:"Descripción de la Empresa",description:i.companyDescription},{correlative:"company_logo",name:"Logo de la Empresa",description:i.companyLogo},{correlative:"company_url",name:"URL de la Empresa",description:i.companyUrl},{correlative:"company_phone",name:"Teléfono de la Empresa",description:i.companyPhone},{correlative:"company_email",name:"Email de la Empresa",description:i.companyEmail},{correlative:"company_address",name:"Dirección de la Empresa",description:i.companyAddress},{correlative:"twitter_site",name:"Twitter Site",description:i.twitterSite},{correlative:"facebook_page",name:"Página de Facebook",description:i.facebookPage},{correlative:"instagram_profile",name:"Perfil de Instagram",description:i.instagramProfile},{correlative:"linkedin_profile",name:"Perfil de LinkedIn",description:i.linkedinProfile},{correlative:"og_image_default",name:"Imagen Open Graph por Defecto",description:i.ogImageDefault},{correlative:"twitter_image_default",name:"Imagen Twitter por Defecto",description:i.twitterImageDefault},{correlative:"google_site_verification",name:"Verificación de Google",description:i.googleSiteVerification},{correlative:"bing_site_verification",name:"Verificación de Bing",description:i.bingSiteVerification},{correlative:"copyright",name:"Texto de Copyright",description:i.copyright},{correlative:"email_coorporativo",name:"Email Corporativo",description:i.emailCoorporativo},{correlative:"location",name:"Ubicación",description:`${i.location.lat},${i.location.lng}`}])}catch(t){console.error("Error al guardar los datos:",t)}},be=(((de=o.find(e=>e.correlative=="seo_keywords"))==null?void 0:de.description)??"").split(",").map(e=>e.trim()).filter(Boolean);return c.useEffect(()=>{$("#cbo-keywords option").prop("selected",!0).trigger("change")},[null]),console.log(i),a.jsx("div",{className:"card",children:a.jsxs("form",{className:"card-body",onSubmit:xe,children:[a.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[a.jsxs("li",{className:"nav-item",role:"presentation",children:[" ",a.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>d("contact"),type:"button",role:"tab",children:"Información de Contacto"})]}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>d("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="seo"?"active":""}`,onClick:()=>d("seo"),type:"button",role:"tab",children:"SEO Básico"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="seo-advanced"?"active":""}`,onClick:()=>d("seo-advanced"),type:"button",role:"tab",children:"SEO Avanzado"})}),a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="social"?"active":""}`,onClick:()=>d("social"),type:"button",role:"tab",children:"Redes Sociales"})}),a.jsxs("li",{className:"nav-item",role:"presentation",children:[" ",a.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>d("location"),type:"button",role:"tab",children:"Ubicación"})]}),he.APP_CORRELATIVE==="cambioDev"&&a.jsx("li",{className:"nav-item",role:"presentation",children:a.jsx("button",{className:`nav-link ${n==="email"?"active":""}`,onClick:()=>d("email"),type:"button",role:"tab",children:"Email"})})]}),a.jsxs("div",{className:"tab-content",id:"contactTabsContent",children:[a.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[i.phones.map((e,t)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`phone-${t}`,className:"form-label",children:["Teléfono ",t+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"tel",className:"form-control",id:`phone-${t}`,value:e,onChange:l=>_(l,t,"phones"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>w(t,"phones"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${t}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>C("phones"),children:"Agregar teléfono"})]}),a.jsxs("div",{className:"col-md-6",children:[i.emails.map((e,t)=>a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:`email-${t}`,className:"form-label",children:["Correo ",t+1]}),a.jsxs("div",{className:"input-group",children:[a.jsx("input",{type:"text",className:"form-control",id:`email-${t}`,value:e,onChange:l=>_(l,t,"emails"),required:!0}),a.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>w(t,"emails"),children:a.jsx("i",{className:"fa fa-trash"})})]})]},`email-${t}`)),a.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>C("emails"),children:"Agregar correo"})]})]}),a.jsxs("div",{className:"mb-3 mt-2",children:[a.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),a.jsx("textarea",{className:"form-control",id:"address",value:i.address,onChange:e=>s({...i,address:e.target.value}),required:!0})]}),a.jsx("div",{className:"mb-3",children:a.jsx(b,{label:"Horarios de atencion",onChange:e=>s({...i,openingHours:e.target.value}),value:i.openingHours,required:!0})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),a.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:i.supportPhone,onChange:e=>s({...i,supportPhone:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),a.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:i.supportEmail,onChange:e=>s({...i,supportEmail:e.target.value}),required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"whatsapp_phone",className:"form-label",children:"Número de WhatsApp"}),a.jsx("input",{type:"tel",className:"form-control",id:"whatsapp_phone",value:i.whatsapp_phone,onChange:e=>s({...i,whatsapp_phone:e.target.value})}),a.jsx("small",{className:"form-text text-muted",children:"Este número se utilizará para recibir consultas a través de WhatsApp."})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"whatsapp_message",className:"form-label",children:"Mensaje de WhatsApp"}),a.jsx("textarea",{className:"form-control",id:"whatsapp_message",value:i.whatsapp_message,onChange:e=>s({...i,whatsapp_message:e.target.value})}),a.jsx("small",{className:"form-text text-muted",children:"Este mensaje se enviará automáticamente al iniciar una conversación."})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Texto del Cintillo"}),a.jsx("textarea",{className:"form-control",id:"cintillo",value:i.cintillo,onChange:e=>s({...i,cintillo:e.target.value}),rows:"3"}),a.jsx("small",{className:"form-text text-muted",children:"Este texto aparecerá en el header del sitio web."})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Texto de Copyright"}),a.jsx("textarea",{className:"form-control",id:"copyright",value:i.copyright,onChange:e=>s({...i,copyright:e.target.value}),rows:"3"}),a.jsx("small",{className:"form-text text-muted",children:"Este texto aparecerá en el footer del sitio web."})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"emailCoorporativo",className:"form-label",children:"Email Corporativo"}),a.jsx("input",{type:"email",className:"form-control",id:"emailCoorporativo",value:i.emailCoorporativo,onChange:e=>s({...i,emailCoorporativo:e.target.value}),placeholder:"admin@cambiafx.com"}),a.jsx("small",{className:"form-text text-muted",children:"Email donde se enviarán las notificaciones de nuevos contactos."})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[a.jsx("div",{className:"mb-3",children:a.jsx(g,{label:"Política de privacidad",value:i.privacyPolicy,onChange:e=>s({...i,privacyPolicy:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(g,{label:"Términos y condiciones",value:i.termsConditions,onChange:e=>s({...i,termsConditions:e})})}),a.jsx("div",{className:"mb-3",children:a.jsx(g,{label:"Políticas de cambio",value:i.exchangePolicy,onChange:e=>s({...i,exchangePolicy:e})})}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{label:"Email Corporativo (para notificaciones)",type:"email",value:i.emailCoorporativo??"",onChange:e=>s({...i,emailCoorporativo:e.target.value}),placeholder:"admin@empresa.com"}),a.jsx("small",{className:"form-text text-muted",children:"Este email recibirá las notificaciones de nuevos mensajes de contacto."})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="seo"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"alert alert-info",children:[a.jsx("strong",{children:"SEO Básico:"})," Estos campos son los principales para el posicionamiento en buscadores."]}),a.jsx(r,{label:"Titulo - SEO",value:i.seoTitle??"",onChange:e=>s({...i,seoTitle:e.target.value}),placeholder:"CambiaFX - Casa de Cambio Online"}),a.jsx("small",{className:"form-text text-muted mb-3",children:"Máximo 60 caracteres. Aparece en resultados de Google y pestañas del navegador."}),a.jsx(b,{label:"Descripcion - SEO",value:i.seoDescription??"",onChange:e=>s({...i,seoDescription:e.target.value}),placeholder:"Casa de cambio online con las mejores tasas de cambio. Compra y vende dólares de forma segura y rápida.",rows:3}),a.jsx("small",{className:"form-text text-muted mb-3",children:"Entre 150-160 caracteres. Aparece debajo del título en Google."}),a.jsx(Ne,{id:"cbo-keywords",label:"Palabras clave - SEO",tags:!0,multiple:!0,onChange:e=>s({...i,seoKeywords:[...$(e.target).val()].join(", ")}),children:be.map((e,t)=>a.jsx("option",{value:e,children:e},t))}),a.jsx("small",{className:"form-text text-muted mb-3",children:"Separadas por comas. Máximo 10 palabras clave relevantes."})]}),a.jsxs("div",{className:`tab-pane fade ${n==="seo-advanced"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"alert alert-info",children:[a.jsx("strong",{children:"SEO Avanzado:"})," Datos de empresa para Schema.org y Open Graph."]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Nombre de la Empresa",value:i.companyName??"",onChange:e=>s({...i,companyName:e.target.value}),placeholder:"CambiaFX - Tu Cambio S.A.C."})}),a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"URL de la Empresa",value:i.companyUrl??"",onChange:e=>s({...i,companyUrl:e.target.value}),placeholder:"https://cambiafx.com"})})]}),a.jsx(b,{label:"Descripción de la Empresa",value:i.companyDescription??"",onChange:e=>s({...i,companyDescription:e.target.value}),placeholder:"Casa de cambio online líder en Perú...",rows:3}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Teléfono de la Empresa",value:i.companyPhone??"",onChange:e=>s({...i,companyPhone:e.target.value}),placeholder:"+51 945 622 983"})}),a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Email de la Empresa",value:i.companyEmail??"",onChange:e=>s({...i,companyEmail:e.target.value}),placeholder:"info@cambiafx.com"})})]}),a.jsx(r,{label:"Dirección de la Empresa",value:i.companyAddress??"",onChange:e=>s({...i,companyAddress:e.target.value}),placeholder:"Lima, Perú"}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx(r,{label:"Logo de la Empresa (Open Graph)",value:i.companyLogo??"",onChange:e=>s({...i,companyLogo:e.target.value}),placeholder:"/assets/img/logo-og.png"}),a.jsx("small",{className:"form-text text-muted",children:"Tamaño recomendado: 1200x630 píxeles"})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx(r,{label:"Imagen Open Graph por Defecto",value:i.ogImageDefault??"",onChange:e=>s({...i,ogImageDefault:e.target.value}),placeholder:"/assets/img/og-default.jpg"}),a.jsx("small",{className:"form-text text-muted",children:"Se usa cuando no se especifica imagen"})]})]}),a.jsx("h5",{className:"mt-4 mb-3",children:"Verificaciones de Sitio Web"}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx(r,{label:"Google Site Verification",value:i.googleSiteVerification??"",onChange:e=>s({...i,googleSiteVerification:e.target.value}),placeholder:"código de verificación de Google"}),a.jsx("small",{className:"form-text text-muted",children:"Desde Google Search Console"})]}),a.jsxs("div",{className:"col-md-6",children:[a.jsx(r,{label:"Bing Site Verification",value:i.bingSiteVerification??"",onChange:e=>s({...i,bingSiteVerification:e.target.value}),placeholder:"código de verificación de Bing"}),a.jsx("small",{className:"form-text text-muted",children:"Desde Bing Webmaster Tools"})]})]})]}),a.jsxs("div",{className:`tab-pane fade ${n==="social"?"show active":""}`,role:"tabpanel",children:[a.jsxs("div",{className:"alert alert-info",children:[a.jsx("strong",{children:"Redes Sociales:"})," URLs de perfiles para Open Graph y Schema.org."]}),a.jsxs("div",{className:"row",children:[a.jsxs("div",{className:"col-md-6",children:[a.jsx(r,{label:"Twitter Site",value:i.twitterSite??"",onChange:e=>s({...i,twitterSite:e.target.value}),placeholder:"@cambiafx"}),a.jsx("small",{className:"form-text text-muted",children:"Usuario de Twitter (incluye @)"})]}),a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Página de Facebook",value:i.facebookPage??"",onChange:e=>s({...i,facebookPage:e.target.value}),placeholder:"https://facebook.com/cambiafx"})})]}),a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Perfil de Instagram",value:i.instagramProfile??"",onChange:e=>s({...i,instagramProfile:e.target.value}),placeholder:"https://instagram.com/cambiafx"})}),a.jsx("div",{className:"col-md-6",children:a.jsx(r,{label:"Perfil de LinkedIn",value:i.linkedinProfile??"",onChange:e=>s({...i,linkedinProfile:e.target.value}),placeholder:"https://linkedin.com/company/cambiafx"})})]}),a.jsx(r,{label:"Imagen Twitter por Defecto",value:i.twitterImageDefault??"",onChange:e=>s({...i,twitterImageDefault:e.target.value}),placeholder:"/assets/img/twitter-default.jpg"}),a.jsx("small",{className:"form-text text-muted",children:"Tamaño recomendado: 1200x600 píxeles para Twitter Cards"})]}),a.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[a.jsx(ye,{googleMapsApiKey:he.GMAPS_API_KEY,children:a.jsx(_e,{mapContainerStyle:{width:"100%",height:"400px"},center:i.location,zoom:10,onClick:ue,children:a.jsx(Ce,{position:i.location})})}),a.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicación."})]}),a.jsx("div",{className:`tab-pane fade ${n==="email"?"show active":""}`,role:"tabpanel",children:a.jsxs("div",{className:"mb-3",children:[a.jsxs("label",{htmlFor:"email_correlative",className:"form-label",children:["Tipo de Email ",a.jsxs("span",{className:"badge bg-info",children:[p.length," disponibles"]})]}),p.length===0?a.jsxs("div",{className:"alert alert-warning",children:[a.jsx("strong",{children:"No se encontraron plantillas de email."}),a.jsx("br",{}),"Asegúrate de que el seeder se haya ejecutado correctamente: ",a.jsx("code",{children:"php artisan db:seed --class=EmailsGeneralSeeder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{id:"email_correlative",className:"form-select mb-3",value:m,onChange:e=>ve(e.target.value),children:[a.jsx("option",{value:"",children:"Selecciona un template"}),p.map(e=>a.jsx("option",{value:e.correlative,children:e.name||e.correlative.replace(/_/g," ").replace(/email/g,"").trim()},e.correlative))]}),m&&a.jsx(we,{label:a.jsxs(a.Fragment,{children:["Plantilla de Email (HTML seguro, variables: ",a.jsx("code",{children:"{{variable}}"}),")",a.jsxs("small",{className:"d-block text-muted",children:["No se permite código PHP ni Blade. Solo variables seguras.",a.jsx("br",{}),N&&a.jsx("span",{children:"Cargando variables..."}),x&&a.jsx("span",{className:"text-danger",children:x}),!N&&!x&&a.jsxs(a.Fragment,{children:[a.jsx("b",{children:"Variables disponibles:"})," ",Object.keys(f).length===0?a.jsx("span",{children:"No hay variables para esta notificación."}):Object.entries(f).map(([e,t])=>a.jsxs("span",{style:{display:"inline-block",marginRight:8},children:[a.jsx("code",{children:`{{${e}}}`})," ",a.jsxs("span",{className:"text-muted",children:["(",t,")"]})," "]},e))]})]})]}),value:i.email_templates[m]||"",onChange:e=>s({...i,email_templates:{...i.email_templates,[m]:e}})})]})]})})]}),a.jsx("button",{type:"submit",className:"btn btn-primary mt-3",children:"Guardar"})]})})};fe((o,h)=>{Se(o).render(a.jsx(je,{...h,title:"Datos Generales",children:a.jsx(ke,{...h})}))});
