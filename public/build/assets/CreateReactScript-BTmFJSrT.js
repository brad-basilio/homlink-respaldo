var E=Object.defineProperty;var L=(c,s,o)=>s in c?E(c,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[s]=o;var e=(c,s,o)=>(L(c,typeof s!="symbol"?s+"":s,o),o);import{V as O}from"./index.esm-Cu-mVv1q.js";import{m as C}from"./main-B2CtU6ez.js";/* empty css               *//* empty css              */const t=class t{};e(t,"WA_URL",null),e(t,"PUBLIC_RSA_KEY",null),e(t,"APP_PROTOCOL",null),e(t,"APP_URL",null),e(t,"WA_URL",null),e(t,"APP_DOMAIN",null),e(t,"APP_NAME",null),e(t,"APP_CORRELATIVE",null),e(t,"GMAPS_API_KEY",null),e(t,"set",(s,o)=>{t[s]=o}),e(t,"get",s=>t[s]);let f=t;const S=c=>{O({resolve:s=>`/${s}.jsx`,setup:({el:s,props:o})=>{const n=o.initialPage.props;if(n!=null&&n.global)for(const a in n.global)f.set(a,n.global[a]);const p=(a,...m)=>{var A,P,R,d;const r=[];if(Array.isArray(a))for(const i of a)r.push(...m.map(u=>`${i}.${u}`));else r.push(...m.map(i=>`${a}.${i}`));if((P=(A=n==null?void 0:n.session)==null?void 0:A.permissions)!=null&&P.find(i=>r.includes(i.name)||i.name=="general.root"))return!0;const l=((R=n==null?void 0:n.session)==null?void 0:R.roles)??[];for(const i of l)if((d=i==null?void 0:i.permissions)!=null&&d.find(u=>r.includes(u.name)||u.name=="general.root"))return!0;return!1},g=a=>{var r;return!!(((r=n==null?void 0:n.session)==null?void 0:r.roles)??[]).find(l=>l.name==a)};C.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(C.Cookies.get("XSRF-TOKEN"))},c(s,{...n,can:p,hasRole:g})}})};export{S as C,f as G};
