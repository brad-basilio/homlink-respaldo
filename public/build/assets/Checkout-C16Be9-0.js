import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as h}from"./index-RYns6xqu.js";import"./main-Y8JAyXgE.js";import{C,S as F,H as _,a as A,b as L}from"./CouponsRest-wJ2qY0pS.js";import{C as M,G as E}from"./CreateReactScript-BuKYEKxn.js";import{N as u}from"./Number2Currency-e57Tgsuk.js";import{i as w}from"./tippy-react.esm-DYFqe69e.js";import{C as R}from"./Detail-BUTDw3GY.js";import{B as D}from"./Base-B0jCVaQs.js";import{c as B}from"./ReactAppend-vpV7VTGG.js";import{H as O}from"./Header-BTDOYT6V.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./createLucideIcon-D_WcjKff.js";import"./Results-BBVbNL2k.js";import"./index.esm-zkRd-kwu.js";import"./axios-B4uVmeYG.js";/* empty css               *//* empty css              */import"./index-CXU7o9CY.js";import"./Filter-CpekYgBC.js";import"./useTranslation-CZbMeh78.js";import"./proxy-Dg7W2VMC.js";const d={metropolitana:{name:"Lima Metropolitana",delivery:"Gratis",items:["Ate","Barranco","Breña","Cercado de Lima","Chorrillos","Comas","El Agustino","Independencia","Jesús María","La Molina","La Victoria","Lince","Los Olivos","Magdalena del Mar","Miraflores","Pueblo Libre","Rímac","San Borja","San Isidro","San Juan de Lurigancho","San Juan de Miraflores","San Luis","San Martin de Porres","San Miguel","Santa Anita","Santiago de Surco","Surquillo","Villa el Salvador","Villa Maria del Triunfo"]},alrededores:{name:"Lima Alrededores",delivery:"Por Shalom - Pago en destino",items:["Ancón","Carabayllo","Chaclacayo","Cieneguilla","Lurín","Pachacámac","Pucusana","Puente Piedra","Punta Hermosa","Punta Negra","San Bartolo","Lurigancho (Chosica)","Santa María del Mar","Santa Rosa"]},provincias:{name:"Provincias",delivery:"Por Shalom - Pago en destino",items:""}},z=new L,I=({publicKey:b,session:r})=>{var y;const v=h.useRef(null);Culqi.publicKey=b,Culqi.options({paymentMethods:{tarjeta:!0,yape:!0,billetera:!1,bancaMovil:!1,agente:!1,cuotealo:!1},installments:!0,style:{logo:`${location.origin}/assets/img/icon-purple.svg`,bannerColor:"#A191B8"}});const j=JSON.parse(localStorage.getItem("carrito"))||[],[t,i]=h.useState({name:(r==null?void 0:r.name)||null,lastname:(r==null?void 0:r.lastname)||null,email:"basiliohinostroza2003bradneve@gmail.com",phone:(r==null?void 0:r.phone)||null,country:"Perú",department:Object.keys(d).find(a=>d[a].name==(r==null?void 0:r.department))||null,province:(r==null?void 0:r.province)||null,district:(r==null?void 0:r.district)||null,zip_code:(r==null?void 0:r.zip_code)||null,address:(r==null?void 0:r.address)||null,number:(r==null?void 0:r.address_number)||null,reference:(r==null?void 0:r.address_reference)||null,comment:null}),[c,N]=h.useState(!1),[n,g]=h.useState(null),o=j.reduce((a,l)=>l.variations&&l.variations.length>0?a+l.variations.reduce((s,m)=>s+l.final_price*m.quantity,0):a+l.final_price*l.quantity,0),p=o*0,x=(o-p)*((n==null?void 0:n.amount)||0)/100,S=()=>{let a="Lima",l="Lima",s=null;return Array.isArray(d[t.department].items)?(a=d[t.department].name,l=t.province,s=null):(a=t.province,l=null,s=t.district),{...t,department:a,province:l,district:s}},k=async a=>{if(a.preventDefault(),c)return;N(!0);let l=null;if(o>0){const s=await C.order({...S(),order_number:Culqi.order_number,renewal_id:"000001",coupon:(n==null?void 0:n.name)??null},j);s&&(l=s.data.id,Culqi.order_number=s.data.order_number)}N(!1),Culqi.settings({title:"(Suscripción)",currency:"PEN",amount:Math.ceil((o-p-x)*100),order:l}),Culqi.open()};window.culqi=async()=>{if(Culqi.token)await C.token({order:Culqi.order_number,token:Culqi.token})&&(location.href="/thanks");else if(Culqi.order){q();const a=Culqi.order_number.replace(`#${E.APP_CORRELATIVE}-`,"");fetch(`/api/sales/notify/${a}`)}};const q=()=>{setInterval(()=>{Culqi.isOpen||(location.href="/")},500)},f=a=>{a.preventDefault();const l=(v.current.value||"").trim().toUpperCase();l&&z.save({coupon:l,amount:o,email:"basiliohinostroza2003bradneve@gmail.com"}).then(s=>{g(s?s.data:null)})},P=a=>{a.key=="Enter"&&f(a)};return e.jsxs(e.Fragment,{children:[e.jsx(O,{showSlogan:!0,backgroundHeight:"h-0"}),e.jsx("section",{className:"px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%] mt-[7.5%] md:mt-[5%] lg:mt-[2.5%] text-[#404040] bg-[#EFE5FF]",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"py-6 flex justify-center space-x-8 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"SSL Pago Seguro"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"24/7 Atención al cliente"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Pago online"})]})]}),e.jsx("form",{className:"w-full rounded-lg bg-white p-8 shadow-lg",onSubmit:k,disabled:c,children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-5 relative",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"INFORMACIÓN PERSONAL"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"firstName",children:["Nombre"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"firstName",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.name,onChange:a=>i(l=>({...l,name:a.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"lastName",children:["Apellidos"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"lastName",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.lastname,onChange:a=>i(l=>({...l,lastname:a.target.value})),required:!0})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"country",children:["País / Región"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"country",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.country,disabled:!0,required:!0})]}),e.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-5",children:e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"department",children:["Región / Provincia"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"department",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.department,onChange:a=>i(l=>({...l,department:a.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"Elige una opción"}),Object.keys(d).map((a,l)=>e.jsx("option",{value:a,children:d[a].name},l))]})]})}),d[t.department]&&e.jsx("div",{className:"mt-4 grid gap-4 md:grid-cols-5",children:Array.isArray(d[t.department].items)?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"district",children:["Provincia"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"province",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.province,onChange:a=>i(l=>({...l,province:a.target.value})),required:!0,children:[e.jsx("option",{value:"",children:"Elige una opción"}),d[t.department].items.map((a,l)=>e.jsx("option",{value:a,children:a},l))]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium  truncate text-ellipsis",htmlFor:"postalCode",title:"Código postal",children:"Código postal"}),e.jsx("input",{type:"text",id:"postalCode",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.zip_code,onChange:a=>i(l=>({...l,zip_code:a.target.value}))})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium  truncate text-ellipsis",htmlFor:"postalCode",title:"Código postal",children:["Departamento"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"postalCode",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.province,onChange:a=>i(l=>({...l,province:a.target.value})),required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium  truncate text-ellipsis",htmlFor:"postalCode",title:"Código postal",children:["Distrito"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"postalCode",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.district,onChange:a=>i(l=>({...l,district:a.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium  truncate text-ellipsis",htmlFor:"postalCode",title:"Código postal",children:"Código postal"}),e.jsx("input",{type:"text",id:"postalCode",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.zip_code,onChange:a=>i(l=>({...l,zip_code:a.target.value}))})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"address",children:["Dirección completa"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"address",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.address,placeholder:"Nombre de la calle y número de la calle",onChange:a=>i(l=>({...l,address:a.target.value})),required:!0})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"number",children:["Número"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"number",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.number,placeholder:"Nombre de la calle y número de la calle",onChange:a=>i(l=>({...l,number:a.target.value})),required:!0})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"apartment",children:"Apartamento, habitación, piso, etc. (opcional)"}),e.jsx("input",{type:"text",id:"apartment",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.reference,onChange:a=>i(l=>({...l,reference:a.target.value}))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"email",children:["Dirección de correo electrónico"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",className:"w-full rounded-md border border-gray-300 p-2 text-sm outline-none",value:t.email,placeholder:"Dirección de correo electrónico",onChange:a=>i(l=>({...l,email:a.target.value})),required:!0,disabled:!0})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium ",htmlFor:"phone",children:["Teléfono/Celular"," ",e.jsx("b",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex border rounded-md border-gray-300",children:[e.jsx("span",{className:"py-2 px-3 border-e",children:"+51"}),e.jsx("input",{type:"tel",id:"phone",className:"w-full p-2 text-sm outline-none",value:t.phone,onChange:a=>i(l=>({...l,phone:a.target.value})),placeholder:"900000000",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"Pago"}),e.jsxs("div",{className:"rounded-md border border-gray-300",children:[e.jsxs("div",{className:"p-4 py-3 flex justify-between",children:[e.jsx("img",{className:"h-4",src:"/assets/img/checkout/culqi-logo.svg",alt:"Culqi"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("img",{className:"h-4",src:"/assets/img/checkout/cards.svg",alt:"Cards"}),e.jsx("img",{className:"h-4",src:"/assets/img/checkout/pagoefectivo.svg",alt:"Pago efectivo"}),e.jsx("img",{className:"h-4",src:"/assets/img/checkout/yape.svg",alt:"Yape"})]})]}),e.jsxs("p",{className:"text-xs bg-[#f9f9f9] p-4 px-6 rounded-b",children:["Acepta pagos con"," ",e.jsx("b",{children:"tarjetas de débito y crédito, Yape, Cuotealo BCP y PagoEfectivo"}),"(billeteras móviles, agentes y bodegas)."]})]})]}),e.jsx("div",{className:"mt-6 text-xs",children:e.jsxs("p",{className:"text-justify",children:["Sus datos personales se utilizarán para procesar su pedido, respaldar su experiencia en este sitio web y para otros fines descritos en nuestra"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"política de privacidad"}),"."]})})]}),e.jsx("div",{className:"lg:col-span-2 relative",children:e.jsxs("div",{className:"block sticky top-4",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold",children:"Tu pedido"}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"mb-4 flex justify-between border-b pb-2 font-bold",children:[e.jsx("span",{className:"",children:"Producto"}),e.jsx("span",{className:"",children:"Subtotal"})]}),e.jsx("div",{className:"mb-2",children:j.map((a,l)=>e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 aspect-[3/4] relative",children:e.jsx("img",{className:"h-10 aspect-[3/4] object-contain object-center rounded-md border",src:`/api/items/media/${a.image}`,alt:a.name,onError:s=>s.target.src="/api/cover/thumbnail/null"})}),e.jsxs("div",{children:[e.jsx("p",{children:a.name}),e.jsx("small",{className:"text-xs text-gray-500",children:e.jsxs("span",{className:"w-6 inline-block text-nowrap",children:["×"," ",a.variations&&a.variations.length>0?a.variations.reduce((s,m)=>s+m.quantity,0):a.quantity]})})]})]}),e.jsxs("span",{className:"",children:["S/"," ",u(a.variations&&a.variations.length>0?a.variations.reduce((s,m)=>s+a.final_price*m.quantity,0):a.final_price*a.quantity)]})]},l))}),e.jsxs("div",{className:"mb-2 mt-4 flex justify-between border-b pb-2 text-sm font-bold",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["S/ ",u(o)]})]}),n&&e.jsxs("div",{className:"mb-2 mt-2 flex justify-between items-center border-b pb-2 text-sm font-bold",children:[e.jsxs("span",{children:["Cupón aplicado"," ",e.jsx(w,{content:"Eliminar",children:e.jsx("i",{className:"mdi mdi-close text-red-500 cursor-pointer",onClick:()=>g(null)})}),e.jsxs("small",{className:"block text-xs font-light",children:[n.name," ",e.jsx(w,{content:n.description,children:e.jsx("i",{className:"mdi mdi-information-outline ms-1"})})," ","(-",Math.round(n.amount*100)/100,"%)"]})]}),e.jsxs("span",{children:["S/ -",u(x)]})]}),t.department&&e.jsxs("div",{className:"mb-4 flex justify-between text-sm border-b pb-2",children:[e.jsx("span",{className:"font-bold",children:"Envío"}),e.jsx("span",{children:(y=d==null?void 0:d[t.department])==null?void 0:y.delivery})]}),e.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["S/"," ",u(o-p-x)]})]})]}),!n&&e.jsxs("div",{className:"mt-6 flex",children:[e.jsx("input",{ref:v,type:"text",placeholder:"Código de cupón",className:"w-full rounded-l-md border border-gray-300 p-2 px-4 text-sm outline-none uppercase focus:border-[#C5B8D4]",value:n==null?void 0:n.name,onKeyDown:P,disabled:c}),e.jsx("button",{className:"rounded-r-md bg-[#5339B1] px-4 py-2 text-sm text-white",type:"button",onClick:f,disabled:c,children:"Aplicar"})]}),e.jsxs("button",{type:"submit",className:"mt-6 w-full rounded-md bg-[#FF9900] py-3 text-white disabled:cursor-not-allowed",disabled:c,children:[e.jsx("i",{className:"mdi mdi-lock me-1"}),"Pagar Ahora",e.jsxs("small",{className:"ms-1",children:["(S/"," ",u(o-p-x),")"]})]})]})})]})})]})})]})};M((b,r)=>{B(b).render(e.jsx(R,{children:e.jsx(D,{...r,children:e.jsx(I,{...r})})}))});
