import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as i}from"./index-RYns6xqu.js";import{C as oe}from"./Detail-BKcVR7Sx.js";import{C as le,B as ne,H as L,bB as O,F as U,bC as ie,bD as ce,bE as de,bF as me,bG as E,b5 as xe,bH as ue,bI as pe}from"./CreateReactScript-C-mUikVe.js";import{c as he}from"./ReactAppend-vpV7VTGG.js";import{m as be}from"./DataGrid-Cd7cnf9r.js";import"./Results-CoLI09XT.js";import"./Filter-BDLE8FWR.js";import"./axios-B4uVmeYG.js";import"./index-CXU7o9CY.js";import"./TippyButton-Duhaw_sS.js";import"./MenuItem-CBKDeUjr.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./sweetalert2.all-DJo0UVK6.js";import"./DxBox-DZgBbgD6.js";import"./TinyMCEFormGroup-TcwoFScW.js";import"./index-DNUR7M9R.js";import"./index-SDlHnhXR.js";import"./HomeSeccionBlog-CZ04iwe8.js";import"./CarruselBrands-Chpi1Apc.js";import"./Strengths-8rnVxSkq.js";import"./ModalAppointment-BjEduSb5.js";import"./CallToAction-3RvJBMpr.js";import"./WeCupSection-CkKcxXUy.js";import"./BlurText-Cr9yZ_QA.js";import"./Supplies-DJwkpyzw.js";import"./Banner-CXqQ-nCn.js";import"./HeroSecctionEmpresa-Bs7Po8J9.js";import"./WhatsAppModal-BCTi89gL.js";const ge=({sedes:x,servicios:v,terms:y})=>{const[a,u]=i.useState({nombre:"",apellido:"",tipoDocumento:"dni",numeroDocumento:"",telefono:"",email:"",direccion:"",departamento:"",provincia:"",distrito:"",sede:"",servicio:"",tipoReclamo:"queja",fechaIncidente:"",horaIncidente:"",detalleReclamo:"",pedido:"",autorizaNotificacion:!0,aceptaTerminos:!1,captchaResuelto:!1}),[M,g]=i.useState(!1),[z,R]=i.useState(!1),[H,V]=i.useState(""),[h,I]=i.useState([]),[o,d]=i.useState({}),[w,f]=i.useState(""),[S,B]=i.useState(""),[G,C]=i.useState(!1),[X,Q]=i.useState(!1),[p,_]=i.useState([]),[J,K]=i.useState([]),[W,T]=i.useState([]),[Y,j]=i.useState([]),[m,D]=i.useState(!0);i.useRef(null);const N=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";let t="";for(let r=0;r<6;r++)t+=s.charAt(Math.floor(Math.random()*s.length));return B(t),t};i.useEffect(()=>{N(),Z()},[]);const Z=async()=>{try{D(!0);const s=await fetch("/ubigeo.json");if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();console.log("Datos de ubigeo cargados:",t.length,"registros"),_(t);const r=[...new Set(t.map(l=>l.departamento))].filter(l=>l).sort().map(l=>({value:l,label:l}));K(r),console.log("Departamentos cargados:",r.length)}catch(s){console.error("Error al cargar datos de ubigeo:",s),D(!1)}finally{D(!1)}};i.useEffect(()=>{if(a.departamento&&p.length>0){console.log("Filtrando provincias para departamento:",a.departamento);const s=p.filter(r=>r.departamento===a.departamento).map(r=>r.provincia),t=[...new Set(s)].filter(r=>r).sort().map(r=>({value:r,label:r}));console.log("Provincias encontradas:",t.length),T(t),j([])}else T([]),j([])},[a.departamento,p]),i.useEffect(()=>{if(a.provincia&&a.departamento&&p.length>0){console.log("Filtrando distritos para:",a.departamento,">",a.provincia);const s=p.filter(r=>r.departamento===a.departamento&&r.provincia===a.provincia).map(r=>r.distrito),t=[...new Set(s)].filter(r=>r).sort().map(r=>({value:r,label:r}));console.log("Distritos encontrados:",t.length),j(t)}else j([])},[a.provincia,a.departamento,p]);const n=s=>{const{name:t,value:r,type:l,checked:k}=s.target;u(P=>{const c={...P,[t]:l==="checkbox"?k:r};return t==="departamento"&&(c.provincia="",c.distrito=""),t==="provincia"&&(c.distrito=""),c}),X||Q(!0),ee(t,l==="checkbox"?k:r)},ee=(s,t)=>{const r={...o};switch(s){case"nombre":case"apellido":t.trim()?t.length<2?r[s]="Debe tener al menos 2 caracteres":delete r[s]:r[s]="Este campo es obligatorio";break;case"numeroDocumento":t.trim()?a.tipoDocumento==="dni"&&!/^\d{8}$/.test(t)?r[s]="El DNI debe tener 8 dígitos":a.tipoDocumento==="ruc"&&!/^\d{11}$/.test(t)?r[s]="El RUC debe tener 11 dígitos":delete r[s]:r[s]="Este campo es obligatorio";break;case"telefono":t.trim()?/^\d{9}$/.test(t)?delete r[s]:r[s]="El teléfono debe tener 9 dígitos":r[s]="Este campo es obligatorio";break;case"email":t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?delete r[s]:r[s]="Ingrese un correo electrónico válido":r[s]="Este campo es obligatorio";break;case"detalleReclamo":case"pedido":t.trim()?t.length<10?r[s]="Proporcione una descripción más detallada":delete r[s]:r[s]="Este campo es obligatorio";break;case"aceptaTerminos":t?delete r[s]:r[s]="Debe aceptar los términos y condiciones";break;default:s!=="captchaResuelto"&&s!=="autorizaNotificacion"&&!t&&s!=="horaIncidente"?r[s]="Este campo es obligatorio":delete r[s]}return d(r),Object.keys(r).length===0},se=()=>{const s={};let t=!0;return["nombre","apellido","tipoDocumento","numeroDocumento","telefono","email","direccion","departamento","provincia","distrito","servicio","fechaIncidente","detalleReclamo","pedido"].forEach(l=>{a[l]||(s[l]="Este campo es obligatorio",t=!1)}),a.aceptaTerminos||(s.aceptaTerminos="Debe aceptar los términos y condiciones",t=!1),d(s),t},A=()=>{const s=w.trim().toLowerCase(),t=S.toLowerCase();return s===t?(u(r=>({...r,captchaResuelto:!0})),d(r=>{const l={...r};return delete l.captcha,l}),!0):(d(r=>({...r,captcha:"El código ingresado no coincide"})),N(),f(""),u(r=>({...r,captchaResuelto:!1})),!1)},re=({file:s,onRemove:t})=>{const r=s.type.startsWith("image/");return e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[e.jsxs("div",{className:"flex items-center min-w-0",children:[r?e.jsx("div",{className:"w-10 h-10 mr-2 flex-shrink-0",children:e.jsx("img",{src:URL.createObjectURL(s),alt:"Vista previa",className:"w-full h-full object-cover rounded"})}):e.jsx(pe,{className:"w-5 h-5 mr-2 text-neutral-dark flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm truncate",children:s.name}),e.jsxs("p",{className:"text-xs text-neutral-dark",children:[(s.size/1024/1024).toFixed(2)," MB •"," ",s.type]})]})]}),e.jsx("button",{type:"button",onClick:t,className:"ml-2 text-red-500 hover:text-red-700","aria-label":"Eliminar archivo",children:e.jsx(E,{className:"w-4 h-4"})})]})},ae=s=>{I(h.filter((t,r)=>r!==s))},q=async s=>{var t,r;if(s.preventDefault(),!a.captchaResuelto&&!A()){(t=document.getElementById("captcha-input"))==null||t.scrollIntoView({behavior:"smooth",block:"center"});return}if(!se()){const l=document.querySelector(".error-message");l&&l.scrollIntoView({behavior:"smooth",block:"center"});return}try{const l=new FormData;Object.keys(a).forEach(b=>{b!=="archivosAdjuntos"&&l.append(b,a[b])}),h.forEach((b,te)=>{l.append(`archivos[${te}]`,b)});const k=(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.content,c=await(await fetch("/api/reclamos",{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(be.Cookies.get("XSRF-TOKEN"))},body:l})).json();if(c.success)V(c.numero_reclamo),R(!0);else throw new Error(c.message||"Error al procesar el reclamo")}catch(l){console.error("Error al enviar el reclamo:",l),alert(`Error al enviar el reclamo: ${l.message}`)}},$=new Date().toLocaleDateString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric"}),F=new Date().toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"});return z?e.jsxs(e.Fragment,{children:[e.jsx(L,{}),e.jsx("div",{className:"max-w-4xl mx-auto p-8 bg-white rounded-lg shadow-lg border border-gray-200",children:e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"w-20 h-20 bg-secondary rounded-full flex items-center justify-center",children:e.jsx(O,{className:"w-12 h-12 text-constrast"})})}),e.jsx("h2",{className:"text-3xl font-bold text-neutral-dark mb-4",children:"¡Reclamo Registrado Exitosamente!"}),e.jsxs("div",{className:"mb-6 p-6 border-2 border-constrast rounded-lg inline-block bg-primary",children:[e.jsxs("p",{className:"text-lg font-semibold text-neutral-dark mb-1",children:["Número de Reclamo:"," ",e.jsx("span",{className:"text-constrast text-xl",children:H})]}),e.jsx("p",{className:"text-sm text-neutral-dark",children:"Guarde este número para futuras consultas"}),e.jsx("div",{className:"mt-4 flex justify-center"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 text-left p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"font-bold text-lg mb-3 text-neutral-dark border-b pb-2",children:"Resumen de su reclamo:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Nombre:"})," ",a.nombre," ",a.apellido]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Documento:"})," ",a.tipoDocumento.toUpperCase()," ",a.numeroDocumento]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Contacto:"})," ",a.telefono," / ",a.email]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Servicio:"})," ",a.servicio]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Tipo:"})," ",a.tipoReclamo==="queja"?"Queja":"Reclamo"]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("span",{className:"font-semibold",children:"Fecha de registro:"})," ",$," ",F]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-1 font-semibold",children:"Detalle:"}),e.jsx("p",{className:"text-sm text-gray-700 bg-white p-2 rounded border border-gray-200",children:a.detalleReclamo})]}),h.length>0&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("p",{className:"text-sm font-medium mb-2",children:["Archivos seleccionados (",h.length,"/3):"]}),h.map((s,t)=>e.jsx(re,{file:s,onRemove:()=>ae(t)},t))]})]}),e.jsx("div",{className:"flex items-center justify-center p-4 bg-neutral-light rounded-xl mb-8 max-w-2xl mx-auto border border-blue-200",children:e.jsx("div",{className:"flex items-start",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-constrast font-medium mb-1",children:"Plazo de atención:"}),e.jsxs("p",{className:"text-constrast text-sm",children:["De acuerdo con el Código de Protección y Defensa del Consumidor, su caso será atendido en un plazo máximo de"," ",e.jsx("span",{className:"font-bold",children:"30 días hábiles"}),". Recibirá una respuesta a través del correo electrónico proporcionado."]})]})})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>{R(!1),u({nombre:"",apellido:"",tipoDocumento:"dni",numeroDocumento:"",telefono:"",email:"",direccion:"",sede:"",servicio:"",tipoReclamo:"queja",fechaIncidente:"",horaIncidente:"",detalleReclamo:"",pedido:"",autorizaNotificacion:!0,aceptaTerminos:!1,captchaResuelto:!1}),I([]),d({}),f(""),N()},className:"px-6 py-3 bg-constrast text-white rounded-xl hover:hover:bg-constrast transition-colors font-semibold",children:"Registrar nuevo reclamo"}),e.jsx("a",{href:"/",className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors font-medium",children:"Volver a la página principal"})]})]})}),e.jsx(U,{})]}):e.jsxs("div",{children:[e.jsx(L,{}),e.jsxs("div",{className:"max-w-4xl px-[5%] py-[5%] mx-auto  bg-white  shadow-2xl rounded-3xl font-poppins ",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center border-b border-gray-200 pb-6 mb-6",children:[e.jsx("div",{className:"flex items-center mb-4 md:mb-0",children:e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-neutral-dark",children:"LIBRO DE RECLAMACIONES"})})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-neutral-dark",children:["Fecha: ",$]}),e.jsxs("p",{className:"text-sm text-neutral-dark",children:["Hora: ",F]}),e.jsx("p",{className:"text-sm font-medium text-constrast mt-1",children:"Hoja de Reclamación"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between text-xs text-neutral-dark mb-1",children:[e.jsx("span",{children:"Progreso del formulario"}),e.jsxs("span",{children:[Object.keys(a).filter(s=>a[s]&&s!=="autorizaNotificacion"&&s!=="aceptaTerminos"&&s!=="captchaResuelto").length," ","de 16 campos completados"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-constrast h-2.5 rounded-full",style:{width:`${Math.min(100,Object.keys(a).filter(s=>a[s]&&s!=="autorizaNotificacion"&&s!=="aceptaTerminos"&&s!=="captchaResuelto").length/15*100)}%`}})})]}),e.jsx("div",{className:"bg-yellow-50 p-4 rounded-xl mb-6 border-l-4 border-yellow-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(ie,{className:"w-6 h-6 text-yellow-600 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"AVISO IMPORTANTE:"}),e.jsx("p",{children:"Conforme a lo establecido en el Código de Protección y Defensa del Consumidor (Ley N° 29571), este establecimiento cuenta con un Libro de Reclamaciones a tu disposición. Ingresa la información solicitada para registrar tu queja o reclamo."})]})]})}),e.jsxs("div",{className:"mb-6 text-sm text-neutral-dark border-b pb-2",children:[e.jsxs("p",{className:"font-medium mb-1",children:["Campos obligatorios"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("p",{children:"Por favor complete todos los campos marcados como obligatorios para registrar su reclamo."})]}),e.jsxs("form",{onSubmit:q,className:"space-y-8",children:[e.jsxs("div",{className:" rounded-xl p-6 shadow-xl ",children:[e.jsxs("h2",{className:"text-lg font-bold text-neutral-dark mb-4 pb-2 border-b border-gray-200 flex items-center",children:[e.jsx("span",{className:"bg-constrast text-white w-7 h-7 rounded-full flex items-center justify-center mr-2 text-sm",children:"1"}),"IDENTIFICACIÓN DEL CONSUMIDOR RECLAMANTE"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Nombres"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"nombre",value:a.nombre,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.nombre?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.nombre&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.nombre})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Apellidos"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"apellido",value:a.apellido,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.apellido?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.apellido&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.apellido})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Tipo de Documento"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"tipoDocumento",value:a.tipoDocumento,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.tipoDocumento?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,children:[e.jsx("option",{value:"dni",children:"DNI"}),e.jsx("option",{value:"ce",children:"Carné de Extranjería"}),e.jsx("option",{value:"pasaporte",children:"Pasaporte"}),e.jsx("option",{value:"ruc",children:"RUC"})]}),o.tipoDocumento&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.tipoDocumento})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Número de Documento"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"numeroDocumento",value:a.numeroDocumento,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.numeroDocumento?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(ce,{className:"w-4 h-4 text-gray-400",title:a.tipoDocumento==="dni"?"El DNI debe tener 8 dígitos":a.tipoDocumento==="ruc"?"El RUC debe tener 11 dígitos":"Ingrese su número de documento"})})]}),o.numeroDocumento&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.numeroDocumento})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Teléfono"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"telefono",value:a.telefono,onChange:n,required:!0,placeholder:"Ejemplo: 987654321",className:`w-full px-4 py-2 border ${o.telefono?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.telefono&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.telefono})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Correo Electrónico"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:n,required:!0,placeholder:"ejemplo@correo.com",className:`w-full px-4 py-2 border ${o.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Departamento"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"departamento",value:a.departamento,onChange:n,required:!0,disabled:m,className:`w-full px-4 py-2 border ${o.departamento?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0 ${m?"bg-gray-100 cursor-wait":""}`,children:[e.jsx("option",{value:"",children:m?"Cargando...":"Seleccione departamento"}),J.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),o.departamento&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.departamento})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Provincia"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"provincia",value:a.provincia,onChange:n,required:!0,disabled:!a.departamento||m,className:`w-full px-4 py-2 border ${o.provincia?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0 ${!a.departamento||m?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:a.departamento?"Seleccione provincia":"Seleccione departamento primero"}),W.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),o.provincia&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.provincia})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Distrito"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"distrito",value:a.distrito,onChange:n,required:!0,disabled:!a.provincia||m,className:`w-full px-4 py-2 border ${o.distrito?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0 ${!a.provincia||m?"bg-gray-100 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:a.provincia?"Seleccione distrito":"Seleccione provincia primero"}),Y.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),o.distrito&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.distrito})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Dirección"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"direccion",value:a.direccion,onChange:n,required:!0,placeholder:"Av. / Calle / Jr. / Psje., N°, Dpto., Int., Urb.",className:`w-full px-4 py-2 border ${o.direccion?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.direccion&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.direccion})]})]})]}),e.jsxs("div",{className:"rounded-xl p-6 shadow-xl",children:[e.jsxs("h2",{className:"text-lg font-bold text-neutral-dark mb-4 pb-2 border-b border-gray-200 flex items-center",children:[e.jsx("span",{className:"bg-constrast text-white w-7 h-7 rounded-full flex items-center justify-center mr-2 text-sm",children:"2"}),"IDENTIFICACIÓN DEL BIEN CONTRATADO"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(x==null?void 0:x.length)>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Sede donde ocurrió el incidente"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"sede",value:a.sede,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.sede?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,children:[e.jsx("option",{value:"",children:"Seleccione una sede"}),x.map(s=>e.jsx("option",{value:s.title,children:s.title},s.id))]}),o.sede&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.sede})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["¿Fue un producto o Servicio?"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"servicio",value:a.servicio,onChange:n,required:!0,className:`w-full px-4 py-2 border ${o.servicio?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,children:[e.jsx("option",{value:"",children:"Seleccione tipo de bien contratado"}),e.jsx("option",{value:"servicio",children:"Servicio"}),e.jsx("option",{value:"producto",children:"Producto"})]}),o.servicio&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.servicio})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Fecha del incidente"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",name:"fechaIncidente",value:a.fechaIncidente,onChange:n,required:!0,max:new Date().toISOString().split("T")[0],className:`w-full px-4 py-2 border ${o.fechaIncidente?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`}),o.fechaIncidente&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.fechaIncidente})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Hora aproximada (opcional)"}),e.jsx("input",{type:"time",name:"horaIncidente",value:a.horaIncidente,onChange:n,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0"})]})]})]}),e.jsxs("div",{className:"rounded-xl p-6 shadow-xl",children:[e.jsxs("h2",{className:"text-lg font-bold text-neutral-dark mb-4 pb-2 border-b border-gray-200 flex items-center",children:[e.jsx("span",{className:"bg-constrast text-white w-7 h-7 rounded-full flex items-center justify-center mr-2 text-sm",children:"3"}),"DETALLE DE LA RECLAMACIÓN Y PEDIDO DEL CONSUMIDOR"]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Tipo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"radio",name:"tipoReclamo",value:"reclamo",checked:a.tipoReclamo==="reclamo",onChange:n,className:"mr-2 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Reclamo"}),e.jsx("p",{className:"text-sm text-neutral-dark",children:"Disconformidad relacionada a los productos o servicios."})]})]}),e.jsxs("label",{className:"flex items-center p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"radio",name:"tipoReclamo",value:"queja",checked:a.tipoReclamo==="queja",onChange:n,className:"mr-2 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Queja"}),e.jsx("p",{className:"text-sm text-neutral-dark",children:"Disconformidad no relacionada a los productos o servicios, o malestar por la atención."})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Detalle ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"detalleReclamo",value:a.detalleReclamo,onChange:n,required:!0,rows:5,className:`w-full px-4 py-2 border ${o.detalleReclamo?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,placeholder:"Describa con detalle su reclamo o queja..."}),o.detalleReclamo&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.detalleReclamo}),e.jsx("p",{className:"text-xs text-neutral-dark mt-1",children:"Mínimo 10 caracteres. Sea lo más específico posible."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-700 font-medium mb-2",children:["Pedido ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"pedido",value:a.pedido,onChange:n,required:!0,rows:3,className:`w-full px-4 py-2 border ${o.pedido?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,placeholder:"Indique qué solución espera recibir..."}),o.pedido&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.pedido})]})]}),e.jsxs("div",{className:"rounded-xl p-6 shadow-xl",children:[e.jsxs("h2",{className:"text-lg font-bold text-neutral-dark mb-4 pb-2 border-b border-gray-200 flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 text-constrast"}),"VERIFICACIÓN DE SEGURIDAD"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[e.jsxs("div",{className:"relative bg-gray-100 p-3 rounded-md select-none text-center w-full md:w-48 font-mono text-lg tracking-widest",children:[e.jsx("span",{className:"relative z-10 inline-block","aria-label":"Código de seguridad",children:S.split("").map((s,t)=>e.jsx("span",{style:{transform:`rotate(${Math.random()*20-10}deg)`,display:"inline-block"},children:s},t))}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[...Array(6)].map((s,t)=>e.jsx("div",{className:"absolute w-full h-0.5 bg-gray-300",style:{top:`${Math.random()*70+15}%`,transform:`rotate(${Math.random()*50-25}deg)`}},t))})]}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("label",{htmlFor:"captcha-input",className:"block text-gray-700 font-medium mb-2",children:["Ingrese el código mostrado"," ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"block text-xs font-normal text-neutral-dark mt-1",children:"(Distingue entre mayúsculas y minúsculas)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"captcha-input",type:"text",value:w,onChange:s=>{f(s.target.value),o.captcha&&d(t=>{const r={...t};return delete r.captcha,r})},onBlur:()=>{w.length>0&&!a.captchaResuelto&&A()},className:`flex-1 px-4 py-2 border ${o.captcha?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-neutral-light0`,placeholder:"Ingrese el código","aria-describedby":"captcha-help",maxLength:"6"}),e.jsxs("button",{type:"button",onClick:()=>{N(),f(""),u(s=>({...s,captchaResuelto:!1}))},className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors flex items-center","aria-label":"Generar nuevo código",children:[e.jsx(me,{className:"w-4 h-4 mr-1"}),"Nuevo"]})]}),o.captcha&&e.jsx("p",{className:"text-red-500 text-xs mt-1 error-message",children:o.captcha}),a.captchaResuelto&&e.jsxs("p",{className:"text-green-500 text-xs mt-1",children:[e.jsx(O,{className:"inline w-4 h-4 mr-1"}),"CAPTCHA verificado correctamente"]}),e.jsx("p",{id:"captcha-help",className:"text-xs text-neutral-dark mt-1",children:"Por seguridad, ingrese el código que aparece en la imagen."})]})]})]}),e.jsxs("div",{className:"rounded-xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("input",{type:"checkbox",name:"autorizaNotificacion",checked:a.autorizaNotificacion,onChange:n,className:"mt-1 mr-2 h-5 w-5"}),e.jsx("label",{className:"text-gray-700",children:"Autorizo que la respuesta a este reclamo sea notificada al correo electrónico consignado en el presente documento."})]}),e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("input",{type:"checkbox",name:"aceptaTerminos",checked:a.aceptaTerminos,onChange:n,className:`mt-1 mr-2 h-5 w-5 ${o.aceptaTerminos?"border-red-500":""}`}),e.jsxs("label",{className:"text-gray-700",children:["He leído y acepto los"," ",e.jsx("button",{type:"button",onClick:()=>C(!0),className:"text-constrast hover:underline font-medium",children:"términos y condiciones"})," ","y la política de privacidad."," ",e.jsx("span",{className:"text-red-500",children:"*"})]})]}),o.aceptaTerminos&&e.jsx("p",{className:"text-red-500 text-xs ml-7 error-message",children:o.aceptaTerminos}),G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl max-h-[80vh] overflow-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Términos y Condiciones"}),e.jsx("button",{type:"button",onClick:()=>C(!1),className:"text-neutral-dark hover:text-gray-700",children:e.jsx(E,{className:"w-5 h-5"})})]}),e.jsx(xe,{className:"prose",html:y==null?void 0:y.description}),e.jsx("div",{className:"mt-4 pt-2 border-t flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>{C(!1),u(s=>({...s,aceptaTerminos:!0})),d(s=>{const t={...s};return delete t.aceptaTerminos,t})},className:"px-4 py-2 bg-constrast text-white rounded-md hover:bg-constrast transition-colors",children:"Aceptar"})})]})})]}),e.jsx("div",{className:"bg-neutral-light p-4 rounded-xl mb-6 border-l-4 border-blue-400",children:e.jsxs("div",{className:"flex",children:[e.jsx(ue,{className:"w-6 h-6 text-constrast mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-white",children:[e.jsx("p",{className:"font-semibold mb-1",children:"INFORMACIÓN IMPORTANTE:"}),e.jsxs("ol",{className:"list-decimal pl-4 space-y-1",children:[e.jsx("li",{children:"La formulación del reclamo no impide acudir a otras vías de solución de controversias ni es requisito previo para interponer una denuncia ante el INDECOPI."}),e.jsx("li",{children:"El proveedor deberá dar respuesta al reclamo en un plazo no mayor a treinta (30) días calendario, pudiendo ampliar el plazo hasta por treinta (30) días más, previa comunicación al consumidor."}),e.jsx("li",{children:"El proveedor deberá conservar los Libros de Reclamaciones por un período mínimo de dos (2) años."})]})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Confirmar envío"}),e.jsx("button",{onClick:()=>g(!1),className:"text-neutral-dark hover:text-gray-700",children:e.jsx(E,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"mb-4",children:"¿Está seguro que desea enviar su reclamo? Revise que todos los datos sean correctos."}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),e.jsx("button",{onClick:s=>{g(!1),q(s)},className:"px-4 py-2 bg-constrast text-white rounded-md hover:bg-constrast",children:"Confirmar envío"})]})]})}),e.jsx("button",{type:"button",onClick:()=>g(!0),className:"px-8 py-3 bg-constrast text-white rounded-md hover:hover:bg-accent transition-colors font-semibold text-lg shadow-md hover:shadow-lg",children:"Enviar Reclamo"})]})]}),e.jsx(U,{})]})};le((x,v)=>{he(x).render(e.jsx(oe,{children:e.jsx(ne,{...v,children:e.jsx(ge,{...v})})}))});
