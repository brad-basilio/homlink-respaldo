var h=Object.defineProperty;var b=(t,a,n)=>a in t?h(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n;var m=(t,a,n)=>(b(t,typeof a!="symbol"?a+"":a,n),n);import{j as e}from"./RequirementCard-DEdD30eg.js";import{r as u}from"./index-RYns6xqu.js";import{u as g}from"./useTranslation-CZbMeh78.js";import{m as r}from"./proxy-Dg7W2VMC.js";import{A as f,F as y}from"./ArrayJoin-BjKPV8SR.js";import{B as j}from"./Results-BBVbNL2k.js";const N=({name:t,summary:a,image:n,collaborator:x,info_date:o})=>{const c=o?new Date(o).toLocaleDateString("es-PE",{day:"numeric",month:"short",year:"numeric"}):"";return e.jsxs("div",{className:" rounded-lg overflow-hidden flex flex-col h-full text-paragraph",children:[e.jsx("img",{src:n?`/api/infoproducts/media/${n}`:"/assets/img/placeholder.png",alt:t,className:"w-full aspect-[4/3] object-cover object-center rounded-lg"}),e.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-neutral mb-2 leading-tight",children:t}),e.jsx("p",{className:"text-neutral text-base mb-4 flex-1",children:a}),e.jsxs("div",{className:"flex justify-between items-end text-sm mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Colaborador"}),e.jsx("span",{className:"block text-neutral",children:x})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Fecha"}),e.jsx("span",{className:"block text-neutral",children:c})]})]}),e.jsx("button",{className:"mt-6 w-full bg-constrast text-white font-semibold py-3 rounded-xl transition-colors",children:"M치s informaci칩n"})]})]})};class v extends j{constructor(){super(...arguments);m(this,"path","infoproducts")}}const $=({categories:t,filter:a,setFilter:n,landing:x})=>{const o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},c={hover:{scale:1.05,boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:{duration:.3,ease:"easeOut"}},tap:{scale:.98}},p={focus:{boxShadow:"0 0 0 2px #3b82f6",transition:{duration:.2}}},{t:i}=g();return e.jsxs(r.section,{className:"py-8 xl:py-12 px-[5%]",initial:"hidden",animate:"visible",variants:o,children:[e.jsxs("div",{className:"block lg:hidden space-y-6",children:[e.jsxs(r.label,{htmlFor:"txt-search-mobile",className:"w-full px-4 py-3 flex items-center rounded-3xl bg-[#F5F2F9]",variants:p,whileHover:{y:-3},whileFocus:"focus",children:[e.jsx(r.i,{className:"fas fa-search text-negro mr-2",whileHover:{scale:1.1}}),e.jsx(r.input,{id:"txt-search-mobile",type:"text",placeholder:i("public.post.search","Buscar publicaci칩n"),className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:s=>n(l=>({...l,search:s.target.value})),whileFocus:{outline:"none",x:3}})]}),e.jsxs(r.div,{className:"flex flex-wrap gap-2 justify-start",variants:o,children:[e.jsx(r.button,{className:`px-3 py-2 text-sm text-neutral border-b-2 ${a.category===null?"border-accent":"border-transparent"}`,onClick:()=>n(s=>({...s,category:null})),variants:c,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:.05},children:"Todos"}),t.map((s,l)=>e.jsx(r.button,{className:`px-3 py-2 text-sm text-neutral border-b-2 ${s.id==a.category?"border-accent":"border-transparent"}`,onClick:()=>n(d=>({...d,category:s.id==a.category?null:s.id})),variants:c,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:(l+1)*.05},children:s.name},l))]})]}),e.jsxs("div",{className:"hidden lg:flex justify-between items-center",children:[e.jsx(r.div,{className:"flex flex-wrap gap-3 justify-start",variants:o,children:e.jsxs("div",{className:"flex",children:[e.jsx(r.button,{className:`px-4 py-2.5 text-neutral border-b-2 ${a.category===null?"border-accent":"border-transparent"}`,onClick:()=>n(s=>({...s,category:null})),variants:c,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:.05},children:"Todos"}),t.map((s,l)=>e.jsx(r.button,{className:`px-4 py-2.5 text-neutral border-b-2 ${s.id==a.category?"border-accent":"border-transparent"}`,onClick:()=>n(d=>({...d,category:s.id==a.category?null:s.id})),variants:c,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:(l+1)*.05},children:s.name},l))]})}),e.jsxs(r.label,{htmlFor:"txt-search-desktop",className:"px-6 py-4 flex items-center rounded-3xl bg-[#F5F2F9] min-w-[350px] max-w-2xl",variants:p,whileHover:{y:-3},whileFocus:"focus",children:[e.jsx(r.i,{className:"fas fa-search text-negro mr-2",whileHover:{scale:1.1}}),e.jsx(r.input,{id:"txt-search-desktop",type:"text",placeholder:i("public.post.search","Buscar publicaci칩n"),className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:s=>n(l=>({...l,search:s.target.value})),whileFocus:{outline:"none",x:3}})]})]})]})},w=new v,B=({filter:t})=>{const[a,n]=u.useState([]),[x,o]=u.useState(1),[c,p]=u.useState(1);return u.useEffect(()=>{const i=[["name","contains",t.search],["summary","contains",t.search]];t.category&&i.push(["category_id","=",t.category]),w.paginate({filter:f(i,"and"),requireTotalCount:!0,skip:6*(c-1),sort:[{selector:"created_at",desc:t.sortOrder=="desc"}],take:6}).then(({status:s,data:l,totalCount:d})=>{s==200&&(o(Math.ceil(d/12)),n(l))})},[t,c]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"px-[5%] pt-0 min-h-[300px] grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.length>0?a.map((i,s)=>e.jsx(N,{...i},i.id||s)):e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16",children:[e.jsx("img",{src:"/assets/img/empty-box.png",alt:"Sin resultados",className:"w-32 h-32 mb-4 animate-bounce"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"No se encontraron resultados"})]})}),e.jsx("div",{className:"p-[5%]",children:e.jsx(y,{pages:x,current:c,setCurrent:p})})]})};export{$ as F,B as R};
