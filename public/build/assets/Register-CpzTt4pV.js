import{j as e}from"./RequirementCard-DEdD30eg.js";import{a as N}from"./MenuItem-CBKDeUjr.js";import{C as w,G as g,J as v,bP as C,bJ as k}from"./CreateReactScript-C-mUikVe.js";import{r as l}from"./index-RYns6xqu.js";import{c as P}from"./ReactAppend-vpV7VTGG.js";import{S as x}from"./sweetalert2.all-DJo0UVK6.js";import"./axios-B4uVmeYG.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";import"./Filter-BDLE8FWR.js";import"./index-CXU7o9CY.js";import"./TippyButton-Duhaw_sS.js";import"./DataGrid-Cd7cnf9r.js";import"./Results-CoLI09XT.js";import"./DxBox-DZgBbgD6.js";import"./TinyMCEFormGroup-TcwoFScW.js";import"./index-DNUR7M9R.js";import"./Detail-BKcVR7Sx.js";import"./index-SDlHnhXR.js";import"./HomeSeccionBlog-CZ04iwe8.js";import"./CarruselBrands-Chpi1Apc.js";import"./Strengths-8rnVxSkq.js";import"./ModalAppointment-BjEduSb5.js";import"./CallToAction-3RvJBMpr.js";import"./WeCupSection-CkKcxXUy.js";import"./BlurText-Cr9yZ_QA.js";import"./Supplies-DJwkpyzw.js";import"./Banner-CXqQ-nCn.js";import"./HeroSecctionEmpresa-Bs7Po8J9.js";import"./WhatsAppModal-BCTi89gL.js";const E=({PUBLIC_RSA_KEY:c,RECAPTCHA_SITE_KEY:d})=>{document.title=`Registro | ${g.APP_NAME}`;const m=new v;m.setPublicKey(c);const[f,s]=l.useState(!1),[u,p]=l.useState(null),[t,h]=l.useState(!1),[r,b]=l.useState({fullName:"",email:"",phone:"",document:"",password:"",confirmPassword:""});l.useEffect(()=>{s(!1)},[]);const a=o=>{const{name:n,value:i}=o.target;b(y=>({...y,[n]:i}))},j=async o=>{if(o.preventDefault(),s(!0),!u)return s(!1),x.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});if(r.password!==r.confirmPassword)return s(!1),x.fire({icon:"warning",title:"Error",text:"Las contraseñas no coinciden",confirmButtonText:"Ok"});console.log("Submitting with captcha:",u);const n={name:r.fullName.split(" ")[0]||"",lastname:r.fullName.split(" ").slice(1).join(" ")||"",email:r.email,phone:r.phone,document:r.document,password:m.encrypt(r.password),confirmation:m.encrypt(r.confirmPassword),captcha:u};console.log("Request payload:",{...n,password:"[ENCRYPTED]",confirmation:"[ENCRYPTED]"});const i=await k.signup(n);if(!i)return s(!1);i&&(await x.fire({icon:"success",title:"¡Cuenta creada exitosamente!",text:"Bienvenido a nuestra plataforma",confirmButtonText:"Continuar",timer:2e3}),location.href="/"),s(!1)};return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-6xl bg-white rounded-3xl shadow-2xl overflow-hidden",children:e.jsxs("div",{className:"flex min-h-[700px]",children:[e.jsx("div",{className:"flex-1 p-8 lg:p-12 flex flex-col justify-center",children:e.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center",children:e.jsx("a",{href:"/",children:e.jsx("img",{src:"/assets/img/logo.svg",alt:g.APP_NAME,className:"object-cover object-top h-12 max-h-12 w-auto sm:h-12 sm:max-h-12 transition-all duration-300"})})})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Crear cuenta"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Aliquam quis lectus aliquam, bibendum urna vel"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:j,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo"}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,value:r.fullName,onChange:a,placeholder:"Nombre y Apellido",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrónico"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:a,placeholder:"hola@mail.com",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Celular"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,value:r.phone,onChange:a,placeholder:"(+51)",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"document",className:"block text-sm font-medium text-gray-700 mb-1",children:"Documento (DNI, RUC, CE o Pasaporte)"}),e.jsx("input",{id:"document",name:"document",type:"text",required:!0,value:r.document,onChange:a,placeholder:"Ej: E-23485",className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:r.password,onChange:a,placeholder:"••••••••",className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>h(!t),children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:t?"text":"password",required:!0,value:r.confirmPassword,onChange:a,placeholder:"••••••••",className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>h(!t),children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})})})]})]}),e.jsx("div",{className:"flex justify-center py-4",children:e.jsx(C,{sitekey:d,onChange:o=>{console.log("reCAPTCHA value:",o),p(o)},onExpired:()=>{console.log("reCAPTCHA expired"),p(null)},onError:o=>{console.log("reCAPTCHA error:",o),p(null)}})}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-red-500 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Creando cuenta...":"Crear cuenta"})}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs("span",{className:"text-sm text-gray-600",children:["¿Ya tienes una cuenta? Ingresa"," ",e.jsx(N,{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"aquí"})]})})]})]})}),e.jsx("div",{className:"hidden lg:block flex-1 relative",children:e.jsxs("div",{className:"absolute inset-0 rounded-r-3xl overflow-hidden",children:[e.jsx("img",{className:"absolute inset-0 h-full w-full object-cover",src:"https://i.ibb.co/9mjrtNR3/image-34.png",alt:"Persona trabajando",onError:o=>{console.log("Error loading image:",o.target.src),o.target.src="/assets/cambiafx/nosotros.png"},onLoad:()=>console.log("Image loaded successfully")}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-30"})]})})]})})})};w((c,d)=>{P(c).render(e.jsx(E,{...d}))});
