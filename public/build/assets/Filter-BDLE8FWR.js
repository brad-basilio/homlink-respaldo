import{j as _}from"./RequirementCard-DEdD30eg.js";import{r}from"./index-RYns6xqu.js";import{a as c}from"./axios-B4uVmeYG.js";const l=r.createContext(),b=({children:u})=>{const[e,g]=r.useState(()=>{const t=localStorage.getItem("currentLanguage");return t?JSON.parse(t):null}),[d,f]=r.useState({}),[m,n]=r.useState(!1),[p,s]=r.useState(null),i=r.useCallback(async(t,a)=>{try{n(!0),s(null);const o=await c.get(`/api/translations/${t}`,{signal:a});f(o.data)}catch(o){c.isCancel(o)||(console.error("Error loading translations:",o),s(o.message))}finally{n(!1)}},[]);r.useEffect(()=>{if(!(e!=null&&e.id))return;const t=new AbortController;return i(e.id,t.signal),()=>t.abort()},[e==null?void 0:e.id,i]);const S=async t=>{try{if(!(t!=null&&t.id)||!(t!=null&&t.name))throw new Error("Invalid language object");localStorage.setItem("currentLanguage",JSON.stringify(t)),g(t)}catch(a){console.error("Error changing language:",a),s(a.message)}};return _.jsx(l.Provider,{value:{currentLanguage:e,changeLanguage:S,translations:d,loading:m,error:p},children:u})},C=Object.freeze(Object.defineProperty({__proto__:null,LanguageContext:l,LanguageProvider:b},Symbol.toStringTag,{value:"Module"}));export{b as L,C as _,l as a};
