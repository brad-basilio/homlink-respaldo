import{j as v}from"./RequirementCard-DEdD30eg.js";import{r as g}from"./index-RYns6xqu.js";import{G as C}from"./Header-BTDOYT6V.js";const _=({children:p="Reserva una consulta",variant:u="primary",size:x="medium",showIcon:$=!0,className:y="",customMessage:o=null,customPhone:b=null,customLink:h=null,buttonData:c=null,customIcon:j=null,...A})=>{const[w,d]=g.useState({phone:null,message:null}),[a,U]=g.useState(null),f=e=>{try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}},E=()=>h?{type:"link",value:h,isExternal:f(h)}:c?f(c)?{type:"link",value:c,isExternal:!0}:{type:"whatsapp",value:c}:o?f(o)?{type:"link",value:o,isExternal:!0}:{type:"whatsapp",value:o}:{type:"whatsapp",value:w.message};a!=null&&a.aboutus,a!=null&&a.generals,g.useEffect(()=>{(async()=>{var t,i;try{const s=new C;s.enableNotifications=!1;const r=await s.getAboutuses();if(r){const l=(t=r==null?void 0:r.generals)==null?void 0:t.find(m=>m.correlative==="whatsapp_phone"),n=(i=r==null?void 0:r.generals)==null?void 0:i.find(m=>m.correlative==="whatsapp_message");d({phone:(l==null?void 0:l.description)||null,message:(n==null?void 0:n.description)||"Hola, me gustaría reservar una consulta."})}}catch{d({phone:null,message:"Hola, me gustaría reservar una consulta."})}})()},[]);const R=()=>{const e=E();if(e.type==="link"){const n=e.value.toLowerCase();n.includes("mailto:")||n.includes("tel:")?window.location.href=e.value:e.isExternal?window.open(e.value,"_blank"):window.location.href=e.value;return}const t=b||w.phone,i=e.value||w.message;if(!t)return;const s=t.replace(/[^\d+]/g,""),r=encodeURIComponent(i),l=`https://wa.me/${s}?text=${r}`;window.open(l,"_blank")},W=()=>{switch(u){case"constrast":return"bg-constrast text-white ";case"accent":return"bg-accent text-white ";case"secondary":return"bg-white text-primary border-2 border-primary hover:bg-primary hover:text-white";case"minimal":return"bg-transparent text-primary hover:bg-primary/10 border border-primary/30";default:return""}},k=()=>{switch(x){case"small":return"px-4 py-2 text-sm";case"large":return"px-8 py-4 text-lg";default:return""}};return v.jsx("button",{onClick:R,className:`
                
                ${k()} 
                ${W()} 
                ${y}
            `,...A,children:p})},G=({children:p="Reserva una consulta",...u})=>v.jsx(_,{...u,children:p});export{_ as W,G as a};
