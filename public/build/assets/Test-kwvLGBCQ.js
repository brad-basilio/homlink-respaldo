const __vite__fileDeps=["assets/Main-90rnymIv.js","assets/RequirementCard-DEdD30eg.js","assets/index-RYns6xqu.js","assets/Treatment-DR32cJ8V.js","assets/HairType-BzSP4Kvf.js","assets/index-SDlHnhXR.js","assets/index-CXU7o9CY.js","assets/index-DNUR7M9R.js","assets/Email-DDr1PM0M.js","assets/sweetalert2.all-DJo0UVK6.js","assets/Results-ByNmBmAq.js","assets/main-BRgt_Qdg.js","assets/___vite-browser-external_commonjs-proxy-DbMF7jdq.js","assets/ScalpType-CnD_D-a9.js","assets/HairGoals-nPfRvZqW.js","assets/Fragrance-CWZ5d7UB.js","assets/tippy-react.esm-DYFqe69e.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as o}from"./preload-helper-CZZ3Qsu7.js";import{j as e}from"./RequirementCard-DEdD30eg.js";import{R as l,r as m}from"./index-RYns6xqu.js";import{c as L}from"./ReactAppend-vpV7VTGG.js";import{B as O}from"./Base-B0jCVaQs.js";import{C as b}from"./CreateReactScript-DsAnrELU.js";import{m as v}from"./main-BRgt_Qdg.js";import{P as w}from"./ProgressBar-5jsyPNru.js";import"./index-CXU7o9CY.js";import"./Filter-CpekYgBC.js";import"./axios-B4uVmeYG.js";import"./index.esm-zkRd-kwu.js";import"./___vite-browser-external_commonjs-proxy-DbMF7jdq.js";/* empty css               *//* empty css              */const D=l.lazy(()=>o(()=>import("./Main-90rnymIv.js"),__vite__mapDeps([0,1,2]))),z=l.lazy(()=>o(()=>import("./Treatment-DR32cJ8V.js"),__vite__mapDeps([3,1,2]))),A=l.lazy(()=>o(()=>import("./HairType-BzSP4Kvf.js"),__vite__mapDeps([4,1,2,5,6,7]))),C=l.lazy(()=>o(()=>import("./Email-DDr1PM0M.js"),__vite__mapDeps([8,1,2,9,10,11,12]))),V=l.lazy(()=>o(()=>import("./ScalpType-CnD_D-a9.js"),__vite__mapDeps([13,1,2,5,6,7]))),B=l.lazy(()=>o(()=>import("./HairGoals-nPfRvZqW.js"),__vite__mapDeps([14,1,2]))),N=l.lazy(()=>o(()=>import("./Fragrance-CWZ5d7UB.js"),__vite__mapDeps([15,1,2,16,6]))),S=({session:d,hasTreatment:c,scalpType:f,hairType:h,hairGoals:g,fragrances:x,userFormulasCount:E=0})=>{const s=v.Local.get("vua_test")??{};c.find(t=>t.id==s.has_treatment)||(s.has_treatment=null),f.find(t=>t.id==s.scalp_type)||(s.scalp_type=null),h.find(t=>t.id==s.hair_type)||(s.hair_type=null),g.find(t=>{var _;return(_=s.hair_goals)==null?void 0:_.some(u=>u==t.id)})||(s.hair_goals=null),x.find(t=>t.id==s.fragrance)||(s.fragrance=null);const[r,i]=m.useState(s),[y,P]=m.useState(!0),p={has_started:e.jsx(D,{test:r,setTest:i,setFirstTime:P,userFormulasCount:E}),has_treatment:e.jsx(z,{test:r,setTest:i,values:c}),scalp_type:e.jsx(V,{test:r,setTest:i,values:f}),hair_type:e.jsx(A,{test:r,setTest:i,values:h}),hair_goals:e.jsx(B,{test:r,setTest:i,values:g}),fragrance:e.jsx(N,{test:r,setTest:i,values:x}),email:e.jsx(C,{test:r,setTest:i,session:d})},a=Object.keys(p),n=()=>{if(y)return 0;for(let t=0;t<a.length;t++)if(r[a[t]]===null||typeof r[a[t]]>"u")return t;return a.length},T=()=>{const t=n();return t===0&&!r.has_started?p.has_started:t<a.length?p[a[t]]:location.href="/test/result"},R=()=>{const t=n();if(t>0){const _=a[t-1];i(u=>{const j={...u};return delete j[_],j})}};m.useEffect(()=>{v.Local.set("vua_test",r)},[r]);const I=n()/a.length*100;return e.jsxs(e.Fragment,{children:[n()>0&&n()!=a.length&&e.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:e.jsx(w,{width:`${I}%`})}),e.jsx(m.Suspense,{fallback:e.jsx("div",{className:"h-[50vh] flex items-center justify-center bg-white",children:"Cargando..."}),children:T()}),n()>0&&n()!=a.length&&e.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:e.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:R,children:e.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};b((d,c)=>{L(d).render(e.jsx(O,{...c,children:e.jsx(S,{...c})}))});
