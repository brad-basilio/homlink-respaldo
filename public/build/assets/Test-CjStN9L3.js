const __vite__fileDeps=["assets/Main-BZiqHNWT.js","assets/AboutHeader-CpM0iYLI.js","assets/index-B80Lgev0.js","assets/Treatment-BibphYyi.js","assets/HairType-D4XKIVGc.js","assets/index-B1nVdsa0.js","assets/index-DO3Aws4m.js","assets/index-CqrOtH36.js","assets/Email-DnUtVnbq.js","assets/sweetalert2.all-Dh0rZL5X.js","assets/Results-DSLuSBy_.js","assets/main-B2CtU6ez.js","assets/___vite-browser-external_commonjs-proxy-C9-083JZ.js","assets/ScalpType-CQfzk1X8.js","assets/HairGoals-Pqu0qlsw.js","assets/Fragrance-DH-RYrC3.js","assets/tippy-react.esm-CHhA99mn.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{j as r}from"./AboutHeader-CpM0iYLI.js";import{R as u,r as x}from"./index-B80Lgev0.js";import{c as L}from"./ReactAppend-CBRQCQGz.js";import{B as C}from"./Base-XuIhqtsd.js";import{C as I}from"./CreateReactScript-BuUiikl4.js";import{m as P}from"./main-B2CtU6ez.js";import{P as O}from"./ProgressBar-cOY9uk2D.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Base-BPkIOKM7.js";import"./index-B1nVdsa0.js";import"./index-CqrOtH36.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */const S="modulepreload",A=function(_){return"/build/"+_},w={},d=function(c,p,E){let f=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),l=(n==null?void 0:n.nonce)||(n==null?void 0:n.getAttribute("nonce"));f=Promise.all(p.map(t=>{if(t=A(t),t in w)return;w[t]=!0;const s=t.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":S,s||(o.as="script",o.crossOrigin=""),o.href=t,l&&o.setAttribute("nonce",l),document.head.appendChild(o),s)return new Promise((v,h)=>{o.addEventListener("load",v),o.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})}))}return f.then(()=>c()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},k=u.lazy(()=>d(()=>import("./Main-BZiqHNWT.js"),__vite__mapDeps([0,1,2]))),D=u.lazy(()=>d(()=>import("./Treatment-BibphYyi.js"),__vite__mapDeps([3,1,2]))),z=u.lazy(()=>d(()=>import("./HairType-D4XKIVGc.js"),__vite__mapDeps([4,1,2,5,6,7]))),B=u.lazy(()=>d(()=>import("./Email-DnUtVnbq.js"),__vite__mapDeps([8,1,2,9,10,11,12]))),V=u.lazy(()=>d(()=>import("./ScalpType-CQfzk1X8.js"),__vite__mapDeps([13,1,2,5,6,7]))),N=u.lazy(()=>d(()=>import("./HairGoals-Pqu0qlsw.js"),__vite__mapDeps([14,1,2]))),$=u.lazy(()=>d(()=>import("./Fragrance-DH-RYrC3.js"),__vite__mapDeps([15,1,2,16,6]))),F=({session:_,hasTreatment:c,scalpType:p,hairType:E,hairGoals:f,fragrances:n,userFormulasCount:l=0})=>{const t=P.Local.get("vua_test")??{};c.find(e=>e.id==t.has_treatment)||(t.has_treatment=null),p.find(e=>e.id==t.scalp_type)||(t.scalp_type=null),E.find(e=>e.id==t.hair_type)||(t.hair_type=null),f.find(e=>{var g;return(g=t.hair_goals)==null?void 0:g.some(y=>y==e.id)})||(t.hair_goals=null),n.find(e=>e.id==t.fragrance)||(t.fragrance=null);const[s,i]=x.useState(t),[o,v]=x.useState(!0),h={has_started:r.jsx(k,{test:s,setTest:i,setFirstTime:v,userFormulasCount:l}),has_treatment:r.jsx(D,{test:s,setTest:i,values:c}),scalp_type:r.jsx(V,{test:s,setTest:i,values:p}),hair_type:r.jsx(z,{test:s,setTest:i,values:E}),hair_goals:r.jsx(N,{test:s,setTest:i,values:f}),fragrance:r.jsx($,{test:s,setTest:i,values:n}),email:r.jsx(B,{test:s,setTest:i,session:_})},a=Object.keys(h),m=()=>{if(o)return 0;for(let e=0;e<a.length;e++)if(s[a[e]]===null||typeof s[a[e]]>"u")return e;return a.length},R=()=>{const e=m();return e===0&&!s.has_started?h.has_started:e<a.length?h[a[e]]:location.href="/test/result"},T=()=>{const e=m();if(e>0){const g=a[e-1];i(y=>{const j={...y};return delete j[g],j})}};x.useEffect(()=>{P.Local.set("vua_test",s)},[s]);const b=m()/a.length*100;return r.jsxs(r.Fragment,{children:[m()>0&&m()!=a.length&&r.jsx("div",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pt-[5%]",children:r.jsx(O,{width:`${b}%`})}),r.jsx(x.Suspense,{fallback:r.jsx("div",{className:"h-[50vh] flex items-center justify-center bg-white",children:"Cargando..."}),children:R()}),m()>0&&m()!=a.length&&r.jsx("section",{className:"bg-white px-[5%] md:px-[7.5%] lg:px-[10%] pb-[5%]",children:r.jsx("button",{className:"h-10 w-10 bg-[#DBCEEB] text-white rounded-full",onClick:T,children:r.jsx("i",{className:"mdi mdi-arrow-left"})})})]})};I((_,c)=>{L(_).render(r.jsx(C,{...c,children:r.jsx(F,{...c})}))});
