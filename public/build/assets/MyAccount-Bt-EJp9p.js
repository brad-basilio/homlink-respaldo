var v=Object.defineProperty;var C=(r,l,t)=>l in r?v(r,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[l]=t;var f=(r,l,t)=>(C(r,typeof l!="symbol"?l+"":l,t),t);import{j as e}from"./AboutHeader-CpM0iYLI.js";import{r as s}from"./index-B80Lgev0.js";import{c as N}from"./ReactAppend-CBRQCQGz.js";import{B as w}from"./Base-C8pp5Bpj.js";import{C as F}from"./CreateReactScript-B4L7iD9b.js";import{R as h}from"./index-B1nVdsa0.js";import{m as b}from"./main-B2CtU6ez.js";import{S as R}from"./sweetalert2.all-Dh0rZL5X.js";import{B as E}from"./Results-B7SuXOZ7.js";import{L as k}from"./Logout-CuE5mwZG.js";import"./index-DO3Aws4m.js";import"./tippy-react.esm-CHhA99mn.js";import"./Base-TVC2AMtK.js";import"./index.esm-Cu-mVv1q.js";import"./___vite-browser-external_commonjs-proxy-C9-083JZ.js";/* empty css               *//* empty css              */import"./index-CqrOtH36.js";class A extends E{constructor(){super(...arguments);f(this,"path","customer/user-formulas")}}const B=new A,_=({id:r,name:l,created_at:t,has_treatment:a,scalp_type:d,hair_type:o,hair_goals:n,fragrance:i,index:m})=>{const[u,c]=s.useState(!1),x=s.useRef(),y=async p=>{if(l==x.current.value)return c(!1);await B.save({id:r,name:x.current.value})&&c(!1)};return e.jsx("div",{className:"relative w-full",children:e.jsxs("div",{className:"relative bg-[#F7F7E7] p-4 rounded-xl w-full pb-8",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{children:u?e.jsx("input",{ref:x,type:"text",className:"w-full outline-none px-3 py-1 rounded-md",defaultValue:l,onBlur:y,autoFocus:!0}):e.jsx("span",{className:"text-lg font-bold",onClick:()=>c(!0),children:l||e.jsxs(e.Fragment,{children:["FÃ³rmula ",m+1]})})}),e.jsxs("small",{children:["Creado el ",moment(t).format("ll")]})]}),e.jsxs("div",{className:"text-sm mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ğŸ§ Tratamiento"}),":"," ",a.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"ğŸ‘€ Cuero cabelludo"}),": "," ",d.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"âœ… Tipo de cabello"}),":"," ",o.description]}),e.jsxs("div",{children:[e.jsx("b",{children:"ğŸ’¡ Objetivos"}),":"," ",n.map(p=>p.description).join(", ")]}),e.jsxs("div",{children:[e.jsx("b",{children:"ğŸ«™ Fragancia"}),":"," ",i.name]})]}),e.jsxs("button",{className:"absolute -bottom-4 bg-[#A191B8] text-sm text-white px-4 py-2 rounded-full",href:`/test/result/${r}`,children:["VOLVER A COMPRAR ",e.jsx("i",{className:"mdi mdi-arrow-top-right"})]})]})})};class j{}f(j,"save",async l=>{try{const{status:t,result:a}=await b.Fetch("/api/customer/profile",{method:"PATCH",body:JSON.stringify(l)});if(!t)throw new Error((a==null?void 0:a.message)||"Ocurrio un error inesperado");return b.Notify.add({icon:"/assets/img/icon.svg",title:"Correcto",body:a.message,type:"success"}),!0}catch(t){return b.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),!1}});const S=({items:r})=>(console.log(r),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl border-b pb-2 mb-4 font-bold",children:"Historial de compras ğŸ“ƒ"}),e.jsx("div",{className:"flex flex-col gap-12 pb-10 items-center p-0",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-2 lg:gap-5 bg-[#F7F7E7] p-[6%] md:p-[3%] rounded-2xl relative pb-10 ",children:[e.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-3/4 items-start justify-center",children:[e.jsx("h2",{className:"text-xl",children:e.jsx("b",{children:"Tripack personalizado:"})}),e.jsxs("div",{className:"flex flex-wrap gap-1 text-sm mt-2",children:[e.jsx("span",{children:"ğŸ‘¥ Mujer"}),e.jsx("span",{children:"ğŸ§ Tratamiento: Si / No"}),e.jsx("span",{children:"ğŸ‘€ Cuero cabelludo: Normal"}),e.jsx("span",{children:"âœ…Tipo de cabello: Crespo "}),e.jsx("span",{children:"ğŸ’¡3 objetivos: HidrataciÃ³n profunda, PrevenciÃ³n caÃ­da, ProtecciÃ³n del color"}),e.jsx("span",{children:"ğŸ’¡Fragancia: Sweet Pear"})]})]}),e.jsxs("div",{className:"flex flex-wrap xl:flex-col gap-y-0 gap-x-3 md:gap-y-3 w-full lg:w-1/4 text-base font-semibold justify-start xl:justify-center mt-3",children:[e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx("h2",{children:"Shampoo:"})}),e.jsx("div",{className:"w-auto flex flex-row justify-center items-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F5F0ED] border border-[#404040]"})})]}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx("h2",{children:"Acondicionador:"})}),e.jsx("div",{className:"w-auto flex flex-row justify-center items-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#B2E3ED] border border-[#404040]"})})]}),e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx("h2",{children:"Crema:"})}),e.jsx("div",{className:"w-auto flex flex-row justify-center items-center",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#F7C2C6] border border-[#404040]"})})]})]}),e.jsx("div",{className:"bg-[#A191B8] absolute left-[5%] bottom-0 -mb-3 sm:-mb-7 rounded-2xl text-white text-xs md:text-base font-semibold tracking-wider px-[3%] py-3",children:e.jsx("a",{children:"VOLVER A COMPRAR"})})]})})]}));h.setAppElement("#app");const V=({session:r})=>{const[l,t]=s.useState(!1),a=s.useRef(),d=s.useRef(),o=s.useRef(),n=s.useRef(),i=s.useRef(),m=s.useRef(),u=async c=>{c.preventDefault(),await j.save({name:a.current.value,lastname:d.current.value,phone:o.current.value,address:n.current.value,address_number:i.current.value,address_reference:m.current.value})&&(R.fire({title:"InformaciÃ³n actualizada",text:"Tu informaciÃ³n se ha actualizado correctamente.",icon:"success",timer:1500,showConfirmButton:!1}),location.reload())};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl border-b pb-2 mb-4 font-bold",children:"Tu informacion personal"}),e.jsxs("div",{className:"flex flex-col gap-6 p-6 pb-10 items-start relative border bg-[#F7F7E7] rounded-3xl",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Nombres y apellidos:"}),e.jsxs("p",{children:[r.name," ",r.lastname]})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Correo electronico:"}),e.jsx("p",{children:r.email})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Telefono:"}),e.jsx("p",{children:r.phone||e.jsx("i",{className:"opacity-75",children:"- Sin telefono -"})})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Direccion:"}),e.jsxs("p",{children:[(r==null?void 0:r.address)||"Sin direccion"," ",(r==null?void 0:r.address_number)||"SN",e.jsxs("small",{className:"opacity-75 block -mt-1",children:[(r==null?void 0:r.province)??(r==null?void 0:r.district),", ",r==null?void 0:r.department,", ",r==null?void 0:r.country," ",(r==null?void 0:r.zip_code)&&e.jsxs(e.Fragment,{children:["- ",r==null?void 0:r.zip_code]})]})]})]}),e.jsxs("button",{className:"absolute -bottom-4 bg-[#A191B8] text-sm text-white px-4 py-2 rounded-full",onClick:()=>t(!0),children:[e.jsx("i",{className:"mdi mdi-pencil"})," EDITAR INFORMACION"]})]})]}),e.jsx(h,{isOpen:l,onRequestClose:()=>t(!1),className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 bg-white p-10 rounded-2xl shadow-lg w-[95%] max-w-lg ",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-50",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{class:"grid gap-6 mb-6 md:grid-cols-6",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{for:"first_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Nombres"}),e.jsx("input",{ref:a,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none",required:!0,defaultValue:r.name})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Apellidos"}),e.jsx("input",{ref:d,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none",required:!0,defaultValue:r.lastname})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Correo"}),e.jsx("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed disabled:bg-gray-100",required:!0,defaultValue:r.email,disabled:!0})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{for:"first_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Pais"}),e.jsx("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed disabled:bg-gray-100",required:!0,defaultValue:"PerÃº",disabled:!0})]}),e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"TelÃ©fono"}),e.jsx("input",{ref:o,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none",required:!0,defaultValue:r.phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{for:"first_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Departamento"}),e.jsx("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed disabled:bg-gray-100",required:!0,defaultValue:r.department,disabled:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Provincia"}),e.jsx("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed disabled:bg-gray-100",required:!0,defaultValue:r.province,disabled:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Distrito"}),e.jsx("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed disabled:bg-gray-100",required:!0,defaultValue:r.district,disabled:!0})]}),e.jsxs("div",{className:"md:col-span-4",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"DirecciÃ³n"}),e.jsx("input",{ref:n,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed",required:!0,defaultValue:r.address})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"NÃºmero"}),e.jsx("input",{ref:i,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed",required:!0,defaultValue:r.address_number})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx("label",{for:"last_name",class:"block mb-2 text-sm font-medium text-gray-900",children:"Referencia"}),e.jsx("input",{ref:m,type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-[#F7C2C6] focus:border-[#F7C2C6] block w-full p-2.5 outline-none disabled:cursor-not-allowed",required:!0,defaultValue:r.address_reference})]})]}),e.jsxs("button",{className:"bg-[#A191B8] text-sm text-white px-4 py-2 rounded-full",children:[e.jsx("i",{className:"fa fa-save me-2"}),"GUARDAR INFORMACIÃ“N"]})]})})]})},g=({items:r})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl border-b pb-2 mb-4 font-bold",children:"Tus fÃ³rmulas ğŸ«§"}),e.jsxs("div",{className:"flex flex-col gap-12 pb-4 items-center relative",children:[r.length==0&&e.jsxs("div",{className:"mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ups!"}),e.jsx("p",{className:"text-sm mb-4",children:"Al parecer no tienes formulas"}),e.jsx("button",{href:"/test",className:"rounded-full px-3 py-2 text-white bg-[#A191B8] text-sm",children:"CREA TU FORMULA"})]}),r.map((l,t)=>e.jsx(_,{...l,index:t},t))]})]}),O=({session:r,formulas:l,sales:t})=>{const[a,d]=s.useState("formulas"),o=()=>{switch(a){case"formulas":return e.jsx(g,{items:l});case"sales":return e.jsx(S,{items:t});case"informacion":return e.jsx(V,{session:r});default:return e.jsx(g,{})}};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"px-[5%] md:px-[7.5%] lg:px-[10%] py-[5%] bg-[#F9F3EF] text-[#404040]",children:[e.jsxs("h2",{className:"text-2xl font-bold mb-4",children:["Â¡Bienvenid@, ",r.name.split(" ")[0],"! âœ¨"]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-5",children:[e.jsx("div",{className:"w-full md:w-1/3 lg:w-1/4 md:bg-[#EFBEC1] rounded-xl",children:e.jsxs("ul",{className:"text-center md:text-start text-[#404040] md:text-white grid sm:grid-cols-2 md:flex md:flex-col gap-2 text-sm font-light tracking-wider md:p-4",children:[e.jsx("li",{className:`px-4 py-2 border-[#404040] border md:border-none hover:bg-[#EFBEC1] md:hover:bg-[#ffffff33] rounded cursor-pointer ${a==="formulas"&&"bg-[#EFBEC1] md:bg-[#ffffff33] text-white"}`,onClick:()=>d("formulas"),children:"FÃ³rmulas creadas"}),e.jsx("li",{className:`px-4 py-2 border-[#404040] border md:border-none hover:bg-[#EFBEC1] md:hover:bg-[#ffffff33] rounded cursor-pointer ${a==="sales"&&"bg-[#EFBEC1] md:bg-[#ffffff33] text-white"}`,onClick:()=>d("sales"),children:"Mis compras"}),e.jsx("li",{className:`px-4 py-2 border-[#404040] border md:border-none hover:bg-[#EFBEC1] md:hover:bg-[#ffffff33] rounded cursor-pointer ${a==="informacion"&&"bg-[#EFBEC1] md:bg-[#ffffff33] text-white"}`,onClick:()=>d("informacion"),children:"InformaciÃ³n personal"}),e.jsx("li",{className:"px-4 py-2 border-[#404040] border md:border-none hover:bg-[#EFBEC1] md:hover:bg-[#ffffff33] rounded cursor-pointer",onClick:k,children:"Cerrar sesiÃ³n"})]})}),e.jsx("div",{className:"bg-white p-4 w-full md:w-2/3 lg:w-3/4 rounded-xl",children:o()})]})]})})};F((r,l)=>{N(r).render(e.jsx(w,{...l,children:e.jsx(O,{...l})}))});
