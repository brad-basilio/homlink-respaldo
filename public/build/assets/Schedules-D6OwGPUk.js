var R=Object.defineProperty;var j=(r,t,o)=>t in r?R(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o;var m=(r,t,o)=>(j(r,typeof t!="symbol"?t+"":t,o),o);import{j as s}from"./Header-Bdo2C3ON.js";import{r as a}from"./index-DFv2mRv-.js";import{c as v}from"./ReactAppend-CwiwA4iz.js";import{B as w}from"./Base-BRVZCu1m.js";import{C as E}from"./CreateReactScript-yWJ4gJYl.js";import{T as y}from"./Table-B6uZsg78.js";import{M as B}from"./Modal-1X5DaN-b.js";import{I as F}from"./InputFormGroup-zYhJxr8k.js";import{R as n}from"./ReactAppend-CaRiPI_F.js";import{D as f}from"./DxButton-DV0H-ZcL.js";import{B as C}from"./Content-C1YkWUKj.js";import"./index-DgyC5pTR.js";import"./tippy-react.esm-BVvHiWwH.js";/* empty css              */import"./main-BBbUrZUL.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./index.esm-B502ZfUP.js";/* empty css               */class k extends C{constructor(){super(...arguments);m(this,"path","coach/schedules")}}const d=new k,D=({specialties:r})=>{const t=a.useRef(),o=a.useRef(),c=a.useRef();a.useRef();const l=a.useRef(),[h,u]=a.useState(!1),p=e=>{e!=null&&e.id?u(!0):u(!1),c.current.value=(e==null?void 0:e.id)??"",l.current.value=(e==null?void 0:e.session_date)??"",$(o.current).modal("show")},x=async e=>{e.preventDefault();const i={id:c.current.value||void 0,session_date:l.current.value};await d.save(i)&&($(t.current).dxDataGrid("instance").refresh(),$(o.current).modal("hide"))},b=async e=>{const{isConfirmed:i}=await Swal.fire({title:"Eliminar recurso",text:"¿Estas seguro de eliminar este recurso?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!i||!await d.delete(e)||$(t.current).dxDataGrid("instance").refresh()};return s.jsxs(s.Fragment,{children:[s.jsx(y,{gridRef:t,title:"Horarios",rest:d,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(t.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo registro",hint:"Nuevo registro",onClick:()=>p()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"specialty.name",caption:"Especialidad"},{dataField:"name",caption:"Titulo"},{dataField:"id",caption:"Imagen",width:"90px",cellTemplate:(e,{data:i})=>{i.social_media=="youtube"?n(e,s.jsx("img",{src:`https://i.ytimg.com/vi/${i.media_id}/hqdefault.jpg`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"}})):n(e,s.jsx("img",{src:"/api/cover/thumbnail/null",style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"}}))}},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(e,{data:i})=>{switch(i.status){case 1:n(e,s.jsx("span",{className:"badge bg-success rounded-pill",children:"Activo"}));break;case 0:n(e,s.jsx("span",{className:"badge bg-danger rounded-pill",children:"Inactivo"}));break;default:n(e,s.jsx("span",{className:"badge bg-dark rounded-pill",children:"Eliminado"}));break}}},{caption:"Acciones",cellTemplate:(e,{data:i})=>{e.append(f({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>p(i)})),e.append(f({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>b(i.id)}))},allowFiltering:!1,allowExporting:!1}]}),s.jsx(B,{modalRef:o,title:h?"Editar recurso":"Agregar recurso",onSubmit:x,size:"md",children:s.jsxs("div",{className:"row",id:"resources-container",children:[s.jsx("input",{ref:c,type:"hidden"}),s.jsx(F,{eRef:l,label:"Fecha sesión",col:"col-12",type:"date",required:!0})]})})]})};E((r,t)=>{v(r).render(s.jsx(w,{...t,title:"Horarios",children:s.jsx(D,{...t})}))});
